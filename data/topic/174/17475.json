{"id":17475,"avatar":"//lain.bgm.tv/pic/user/m/000/00/35/3556.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"话说C语言里面，比如有一个a[ n]的数组，用void函数来计算每一个项目的数值的时候，<br>for (i = 0; i < n; i++) {<br>    *a = xxxxx;<br>    a++;<br>}<br>和<br>for (i = 0; i < n; i++) {<br>    a[ i] = xxxxx;<br>}<br>有什么比如执行效率上的区别么？<br><br>嘛之所以问这个问题，是因为最近毕业研究主要在搞CUDA方面，因为CUDA是并行运算，所以需要直接给每个thread直接指定地址（利用Thread ID）而不是用for循环，所以CUDA在写法上就是<br>i = threadIdx.x; /* threadIdx.x就是一次元数组单block的时候的Thread ID */<br>a += i;<br>*a = xxxxx;<br>于是这种写法写习惯了的后果就是，为了做同一个程序的CUDA执行速度和C执行速度的比较的时候，常常先写好了CUDA版本，然后写C版本的时候也不小心写成<br>for (i = 0; i < n; i++) {<br>    a += i;<br>    *a = xxxxx;<br>}<br>于是后果就是……恩，大家都知道把wwww<br><br>所以为了解决这种混乱，其中一种解决办法就是干脆C和CUDA都用a[ i]的方式来计算要素数值，但一直以来都习惯了直接指定地址的写法所以……而且心理上还是各种想用地址指定<br><br>嘛当然还有另外一种解决方法就是C的loop写法改为<br>for (i = 0; i < n; i++, a++) {<br>    *a = xxxxx;<br>}<br>8过这种方法显然不治本w<br><br>嘛好吧其实这个帖子归根结底只不过是lz的纠结贴而已，归根结底其实lz不过是因为这个问题而想到了标题，所以想要问问各位大大而已=w=a<br>感谢各位大大m(_  _)m ","time":"2012-7-24 03:14","title":"*a=xxxx和a[ i]=xxxx的区别？","userId":"lovee","userName":"星野恵瑠","userSign":"(Miata Is Always The Answer!)"}
{"id":401907,"avatar":"//lain.bgm.tv/pic/user/m/000/62/96/629697.jpg","floor":"#1","group":"番組WIKI計画","groupHref":"/group/wiki","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/01/128.jpg","message":"<span style=\"float: right;\"><span style=\"font-size:12px; line-height:12px;\">EXEC_WIKI=BGM/. 工程项目：<br>❏ <a href=\"https://bgm.tv/group/topic/399188\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">[组件] 音乐条目显示各曲目参与制作人员信息</a>　　　　<br>❏ [组件+] 维基音乐条目可视化编辑套件（本帖）</span></span><span style=\"float: left;\">╭─ᣔ⎻────────────╮<br>　特設サイト　　　<br>　<a href=\"https://exec-0001.hya.moe\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://exec-0001.hya.moe</a><br>　<span style=\"text-decoration: line-through;\">（封面欺诈</span>　　　<br>╰──────────────╯</span><br><a href=\"https://exec-0001.hya.moe\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\"><img src=\"https://static.hya.moe/execwb-publish/bgm-publish-heading.webp\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt></a><div class=\"quote\"><q>你什么时候产生了班古米是专业维基站的错觉</q></div><a href=\"https://bgm.tv/group/topic/399188\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">上回</a>提到：<div class=\"quote\"><q>我有一套自用的脚本和小组件，可以做到只需要从特设网站页面复制整段的曲目 credit，就可以几乎全自动生成 infobox、曲目列表，然后精确自动关联制作人员。</q></div>我回来填坑了，请看：<br><img src=\"https://static.hya.moe/execwb-demo.avif\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>（动图加载不出来/无法播放的话，<a href=\"https://static.hya.moe/execwb-demo.mp4\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">点此</a>观看）<br><br>看完演示视频，你或许有很多问号：<br><br><span style=\"font-weight:bold;\">是不是只能用于你那个什么ななひら出的专辑啊？</span><br><span style=\"text-decoration: line-through;\">不，如您所见，桃箱的也可以。</span>理论上绝大部分“曲目名–职位–人名”格式的曲目制作人员信息都可以识别。识别用的“模板”非常灵活，能处理各种用词和排版风格。正式给大家用以前，我和各位测试者拿各个社团各个专辑的特设页面信息做了大量测试。肯定还有没考虑到的情况，有劳大家回报bug。<br><br><span style=\"font-weight:bold;\">真就全自动啊？是不是我粘贴了过后就可以躺了？</span><br>绝大部分的整理工作都自动化了，剩下的是查找填写非关联信息（发售日期、价格等），然后就是在按下确认键前核查结果。因为自动化加速了流程，我们更容易疏忽大意遗漏，所以核查尤为重要。另外，也请看下一个问题的答案。<br><br><span style=\"font-weight:bold;\">人物关联看上去太假了，这怎么自动的？重名问题怎么解决？</span><br>人物关联数据库需要预先导入（通过批量获取你的关联历史/人物创建历史）。自动关联靠的是名字和别名的完整匹配，以确保精确。我的假设是：维护一个自己常用的数据库比起用全站数据能有效减少重名。剩下极少的重名情况可以通过右上角人物缩略图列表快速发现并且去重。<br><br><span style=\"font-weight:bold;\">我专辑里所有曲目的制作人员都是一样的 / 我专辑里没有分曲目制作人员</span><br>这也是支持的，填写在曲目列表之前的信息会被视为全专辑参与的制作人员。就算没有整理曲目信息的需求，你仍能得益于这个工具的精确自动关联。<br><br><span style=\"font-weight:bold;\">制作人员在班古米上没有条目怎么办？</span><br>这个没有捷径，还是得创建新的人物条目，创建完了过后回来关联库里同步。<span style=\"text-decoration: line-through;\">然后你会发现搜索人物信息成了你写维基条目速度的瓶颈</span><br><br><span style=\"font-weight:bold;\">特设网站是一图流。</span><br>有时在 XFD 视频介绍中、网店商品介绍里会有可以复制的纯文字的曲目列表和制作人信息，再不行就用 OCR。另外，我这儿有职位和人名的自动补全（目前仅支持职位），手打也不会太困难。<br><br><span style=\"font-weight:bold;\">这个项目的名字怎么那么怪？ / 那些奇怪的符号是什么？  <span style=\"text-decoration: line-through;\">（谁问你了？）</span></span><br>致敬<a href=\"https://bgm.tv/subject/1509\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">某个</a>语言即诗歌、诗歌即代码的游戏<br><br><br><span style=\"font-size:20px; line-height:20px;\"><span style=\"font-weight:bold;\">那么，怎么才能用上呢？</span></span><br><a href=\"https://EXEC-WIKI-BGM.hya.moe/docs\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">教程在这里</a>，<a href=\"https://EXEC-WIKI-BGM.hya.moe\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">编辑器在这里</a>，Web 端，附带新用户引导。<span class=\"text_mask\" style=\"background-color:#555;color:#555;border:1px solid #555;\">这个新用户引导采用了次世代的交互与叙事框架</span><br><br>现在，教程和工具暂时是面向有一定经验的维基人的，但从长远来说，我是希望这套工具也能成为一个学习条目编辑的途径。目前嘛，其实不是维基人也可以使用，因为生成的关联人物信息是可以（按住 Alt 键）单独复制出来贴在维基协力楼里的。维基人可以粘贴到接收端直接关联，也可以手动关联。<br><br><br><span style=\"font-size:20px; line-height:20px;\"><span style=\"font-weight:bold;\">致谢 / 借物列表</span></span><br>- 感谢 <a href=\"/user/sakarin\" class=\"l\">@SilenceAkarin</a> 、 <a href=\"/user/36176\" class=\"l\">@豆沙包罐头</a> 和 <a href=\"/user/mercurylampe\" class=\"l\">@Mikeneko</a> 参与封闭测试，帮忙 debug，屡次阻止我往 app 里加反人类 feature，为项目的初期发展提供了宝贵建议。<br><br>- 特别感谢 <a href=\"/user/wikiaka\" class=\"l\">@​ウィキ専用垢</a> 的组件<a href=\"https://bgm.tv/group/topic/389152\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">自动关联 infobox 制作人员</a>，本项目的许多机制受其启发。<br>- 人物搜索用了<a href=\"/user/wattlebird\" class=\"l\">@Genius&#x1F31F;小乖&#x1F4AF;</a> 的 <a href=\"https://bgm.tv/group/topic/390220\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">Bangumi Research</a> 的私有 API（不要打我不要打我不要打我，我用得很节制的！<br>- Bangumi 娘的 SVG 魔改自 <a href=\"https://next.bgm.tv\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">Bangumi 正在开发中的新前端</a><br>- 在新用户向导中，立绘：<a href=\"https://x.com/kani_biimu\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">かにビーム</a>；背景：<a href=\"https://min-chi.material.jp/\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">みんちりえ</a>；背景音乐：<a href=\"http://ontama-m.com/index.html\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">音楽の卵</a>；音效：<a href=\"http://www.vita-chi.net/sozai1.htm\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">びたちー素材館</a><br><br><br><span style=\"font-size:20px; line-height:20px;\"><span style=\"font-weight:bold;\">后记</span></span><br>目标：在 2024-08-11 (C104) 前支持多 disc、初步完善用户体验<br><span style=\"text-decoration: line-through;\">今天就为你喜欢的音乐人加上语法高亮</span><br>希望维基狂人们可以加专辑加到进入心流～<br><span style=\"text-decoration: line-through;\">这下，我终于可以安心录入我的儿歌专辑啦</span><br>专辑信息识别的背后是我用 Tree-sitter 半手工制作的语法解析器，感兴趣的班友或许会在“另一个位面的～技术宅真可怕～”读到我的技术日志（不过帖子或许已经沉了","time":"2024-7-12 14:44","title":"[组件+] 维基音乐条目可视化编辑套件 EXEC_WIKI=BGM/.（更新：infobox 编辑器、导入 MusicBrainz）","userId":"hyary","userName":"Hyary","userSign":"(‮✩ ‭<ゝω・)"}
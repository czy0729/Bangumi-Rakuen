{"id":10588,"avatar":"//lain.bgm.tv/pic/user/m/000/04/97/49777.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"<span style=\"font-weight:bold;\">一个C程序片段 本鼠及其老师感觉挺有趣(怪怪)的个问题~~~<br><br>C 上机课程 ing 本鼠...到 20:40<br></span><br><br><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>#include<stdio.h><br>void main()<br>{<br>        int re;<br>        do<br>        {<br>                printf(\"Input re (int re>0 && re<10)...n\");<br>                scanf(\"%d\",&re);<br>        }<br>        while(re<=0||re>=10);<br>    //以上强制输入一个被限制的正整数 re(peat) ...<br>}<br><br><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br><span style=\"font-weight:bold;\">编译器为 VC++ 6.0 系统环境 XP SP2</span><br><br><span style=\"text-decoration: line-through;\">日常般的调试</span><br><br>Input 5.5     正常 跳出循环<br><br>Input 4     正常 跳出循环<br><br>Input 0     正常 再次循环 printf scanf<br><br>Input 10     正常 再次循环 printf scanf<br><br>Input 18     正常 再次循环 printf scanf<br><br>Input -9     正常 再次循环 printf scanf<br><br>也就是说 只要是输入的是整数 就没问题...一切正常<br><br>在向零取整后 数值还不在 while(___) 范围之内的也都没事 正确地跳出循环...<br><br><span style=\"font-weight:bold;\">只有...那些...不规矩的小数们....</span><br><br><span style=\"font-weight:bold;\">以下................奇妙的事情就发生了.....................</span><br><br>一旦输入 -1.5   0.6   10.9  18.2  什么的........... ta 就....<br><br>反复输出 printf... 直接忽略(跳过)了 scanf  ！...<br><br>用步进调试也是这样 只要输入类似的小数 就会出错~~~<br><br><span style=\"font-weight:bold;\">最匪夷所思的就是......敲那些小数后......之后的循环中为什么会直接无视掉那个可怜的 scanf....</span>.<br><br>..........<br><br>之后在 scanf 后面 加了个 printf(\"%dn\",re);<br><br>以确认输入的 scanf 到底被转换成了什么 ...<br><br>但是也没什么异常啊<br><br>Input 0.7 --> re=0<br><br>Input 10.1 --> re=10<br><br>Input -18.2 --> re=-18<br><br>但死活就是不肯在之后的循环下执行 scanf 那条语句....<br><br>.........<br><br><span style=\"font-weight:bold;\">先谢谢各位了~~~帮忙解释下好吧~~~</span> ","time":"2011-12-5 19:53","title":"一个简单的C程序片段 出现了个怪怪的(非日常?)现象~~~？","userId":"bgmouse","userName":"MousHu","userSign":"(miaow~~~)"}
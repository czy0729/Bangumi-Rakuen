{"id":371114,"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#1","group":"站务论坛","groupHref":"/group/forum","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/2.jpg","message":"之前有过相关的讨论，<a href=\"https://bgm.tv/group/topic/350650\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://bgm.tv/group/topic/350650</a><br><br>虽然帖子里大部分 API 已经被新 API 替换掉并且从文档移除了，但是修改用户收藏 API 最近才开始开发。<br><br>发帖原因长话短说就是因为旧的“条目收藏 API”在修改剧集收藏信息时不够直观，包括目前条目页面右边的“修改完成度”的行为。重新发帖是还没见到有合适的解决方案。<br><br>大概有问题的点在于，比如现在的柯南看到 1047 集的时候，实际的观看进度只有 1044 等章节不连续或者从 1 开始时完成度的一些奇怪行为。<br><br>比如直接修改条目的完成度，是无论如何也猜不到 1044，更没法猜到 1044 的完成度对应的是第 1047 集这个数字的。如果因为看到了 1044 集而把完成度设置为 1044，那实际上会完成 1041 集之前的章节，而把 1042、1043 和 1044 设置为未看。<br><br>所以大概想到的备选方案：<br><br>书籍条目因为不支持章节，所以可以直接使用条目收藏 API 修改 Chap 和 Vol。（也是目前推荐的旧 API 的使用方法）<br><br>剧集条目（动画和三次元）的 API 不允许修改完成度，只能细粒度的设置章节“看到”和“看过”，完成度则在更新章节收藏状态时重新计算。<br><br>至于新站则保持旧站行为（最不坏的办法），修改完成度为 N 的时候直接完成前 N 个章节，把所有后面的章节设置为撤消。 ","time":"2022-6-29 11:52","title":"修改收藏进度的实际行为","userId":"trim21","userName":"Trim21","userSign":"(<img src=\"#\" ></img>)"}
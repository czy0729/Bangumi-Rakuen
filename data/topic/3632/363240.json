{"id":363240,"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"想生成字符画，但是生成的图像一闪而过，用录屏软件开 60fps 录制才能找到<br><a href=\"https://ffmpeg.org/ffmpeg-devices.html#caca\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">文档</a>读过，但是没有相关选项<br>指定 -t 也没用<br><br>edit: 补充日志<br><div class=\"codeHighlight\"><pre>ffmpeg -i .\\78888804_p0.png -pix_fmt rgb24 -f caca -color full16 -<br>ffmpeg version 4.4-full_build-www.gyan.dev Copyright (c) 2000-2021 the FFmpeg developers<br>  built with gcc 10.2.0 (Rev6, Built by MSYS2 project)<br>  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --ena<br>ble-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libdav1d<br>--enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxvid --enable-libaom --enable-libopenjpeg --enable-libvpx --enable-libass<br>--enable-frei0r --enable-libfreetype --enable-libfribidi --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec<br>--enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libmfx --enable-libglslang --enable-vulkan --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --en<br>able-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable<br>-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint<br>  libavutil      56. 70.100 / 56. 70.100<br>  libavcodec     58.134.100 / 58.134.100<br>  libavformat    58. 76.100 / 58. 76.100<br>  libavdevice    58. 13.100 / 58. 13.100<br>  libavfilter     7.110.100 /  7.110.100<br>  libswscale      5.  9.100 /  5.  9.100<br>  libswresample   3.  9.100 /  3.  9.100<br>  libpostproc    55.  9.100 / 55.  9.100<br>Input #0, png_pipe, from '.\\78888804_p0.png':<br>  Duration: N/A, bitrate: N/A<br>  Stream #0:0: Video: png, rgba(pc), 2000x1247 [SAR 13779:13779 DAR 2000:1247], 25 fps, 25 tbr, 25 tbn, 25 tbc<br>Stream mapping:<br>  Stream #0:0 -> #0:0 (png (native) -> rawvideo (native))<br>Press [q] to stop, [?] for help<br>Output #0, caca, to 'pipe:':<br>  Metadata:<br>    encoder         : Lavf58.76.100<br>  Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24(pc, progressive), 2000x1247 [SAR 1:1 DAR 2000:1247], q=2-31, 1496400 kb/s, 25 fps, 25 tbn<br>    Metadata:<br>      encoder         : Lavc58.134.100 rawvideo<br>frame=    1 fps=0.0 q=-0.0 Lsize=N/A time=00:00:00.04 bitrate=N/A speed=0.205x<br>video:7307kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown<br></pre></div><br>edit2: 已解决 <br>在最前面加入 -loop 1 即可<br>推测是只有一帧图像导致的问题<br><br>edit3:<br><a href=\"https://bgm.tv/group/topic/363240#post_1820597\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">#8</a>  给出了一个可能更好的方案(在 windows 下未测试成功) ","time":"2021-6-8 19:53","title":"[已解决]如何保存 ffmpeg 用 caca 生成的图像","userId":"441758","userName":"snylonue","userSign":"(表达能力极差)"}
{"id":373076,"avatar":"//lain.bgm.tv/pic/user/m/000/27/45/274591.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"TLDR <span style=\"font-size:18px; line-height:18px;\">地址 <a href=\"https://cityhunter.me\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://cityhunter.me</a></span><br>标记后可被搜索延迟平均1分钟<br><br><span style=\"font-size:18px; line-height:18px;\">怎样搜索？</span><br>-----------------<br>如何键入多标签搜索<br><img src=\"https://i.imgur.com/MAQqiY7.gif\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>在已有搜索结果上增加热门标签 快捷切换类别搜索<br><img src=\"https://i.imgur.com/uiF3MW9.gif\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>在已有搜索结果上删除选中标签 一些页面导航跳转<br><img src=\"https://i.imgur.com/XlMp9nh.gif\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><br><span style=\"font-size:18px; line-height:18px;\">怎样标记（会触发自动更新，哪些数据会更新）？</span><br>-------------------------------------<br><a href=\"https://cityhunter.me/help/\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://cityhunter.me/help/</a><br><br>=====话痨分割线=====<br><br>珠玉在前，虽说不是月经贴也算得上是年经贴了<br><a href=\"https://bgm.tv/group/topic/344240\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">2017年</a><a href=\"/user/windrises\" class=\"l\">@windrises</a>  的 <a href=\"https://windrises.net/bgmtools/multitag/\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://windrises.net/bgmtools/multitag/</a><br><a href=\"https://bgm.tv/group/topic/365824\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">2021年</a><a href=\"/user/wattlebird\" class=\"l\">@Genius&#x1F31F;小乖&#x1F4AF;</a> 的 <a href=\"https://chii.ai/search\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">科排</a>  <br><br><span style=\"font-size:18px; line-height:18px;\">为什么要再造轮子了呢? <img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\"></span><br>-------------------------------------<br><a href=\"https://cityhunter.me/about/\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://cityhunter.me/about/</a><br>1. 因为今年三月左右，特征条目搜不到<img src=\"/img/smiles/tv/20.gif\" smileid=\"59\" alt=\"(bgm43)\">（所谓特征条目 约= NSFW条目*）<br>2. 如果标签占比过低会也会搜不到，在上面那个帖子里和作者有确认过，设计如此<br>3. 我对多标签有点执念，有兴趣的可以看这个<a href=\"https://bit.ly/multi-tag-filter\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">脚本 </a>。至于为什么搞这个脚本，小孩子请跳过这里<span style=\"background-color:#555;color:#555;border:1px solid #555;\">https://bit.ly/3BfouPg</span><br><br>我是希望凡是标过的都能搜出来（有标无类嘛），标签最终是否确切体现条目特性，需要交给社区审核以及依赖用户修养。我印象里，你班过一段时间会移除有些超长无意义的标签。<br><br><span style=\"font-size:18px; line-height:18px;\">为什么要条目自动数据更新？</span><br>-------------------------------------<br>首先是为了搜索的实时性，目前支持自动更新的条目，多标签的可搜索延迟和你班的标签可搜索延迟基本持平（～1分钟）。<br>其次是实现了一个简易的满足个人需求的多标签搜索，原计划至少一个月更新一次<br>=>自己做了后才发现，更新数据这种事月更都是不可能的<img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\">，能按季度更新的都是天使好嘛<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>=>于是就想着如果能自动更新数据就好了，于是就有了目前支持<span style=\"font-weight:bold;\">特征条目自动数据更新</span>的版本<br><br>有关数据自动更新以及如何标记可以被检索的说明  <a href=\"https://cityhunter.me/help/\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://cityhunter.me/help/</a><br><br><span style=\"font-size:18px; line-height:18px;\">现状、计划和反馈</span><br>-------------------------------------<br>目前自动更新只针对NSFW条目，准备之后稍微扩大一些范围（<span style=\"text-decoration: line-through;\">计划是当季新番</span>），但不太可能是全部条目。<br>bgm或许还受得了，我的小服务器肯定是承受不了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">，，估计到时新bgm已经出来了<img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\"><br><br>试运行了半年，听众应该还只限于收藏过我目录的班友及好友。作为前端苦手，一直没有加什么前端逻辑，css基本沿用bgm。<br>最近有点时间加了个搜索框 (依然没什么前端逻辑），但也算是勉强能看了。<br><br>图标有点丑，域名有点二，功能尚不全。只有标签自动补全有cache，搜索还没有，所以有点慢。<br>可能会有bug和数据自动更新失败的时候，欢迎在这里反馈，也可以私信我。CI/CD 也没有，迭代的慢还请谅解。<br><br>=====话痨结束=====<br><br>*NSFW条目界定意义不明<br><a href=\"https://bgm.tv/group/topic/371964\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://bgm.tv/group/topic/371964</a><br><br>=====绅士干货=====<br>如果上面的链接不能解答你的问题，你还愿意搞明白为什么数据更新失败，首先毫不犹豫的加我好友吧，然后请移步我<a href=\"https://bit.ly/3BfouPg\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">目录</a>或者我bgm个人主页的简介部分。 ","time":"2022-9-17 15:22","title":"多标签搜索 x 特征条目自动数据更新","userId":"ychz","userName":"oscardoudou","userSign":"(cityhunter.me/anime/tags/?q=OVA 神作 童年)"}
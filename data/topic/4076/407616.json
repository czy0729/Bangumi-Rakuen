{"id":407616,"avatar":"//lain.bgm.tv/pic/user/m/000/49/79/497947.jpg","floor":"#1","group":"sedoruee自用","groupHref":"/group/sedoruemboy","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/51/5182.jpg?r=1728482748","message":"<img src=\"https://www.helloimg.com/i/2024/10/16/670f5fd8880d4.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><div class=\"codeHighlight\"><pre>// ==UserScript==<br>// @name         Bangumi jump to multiple sites<br>// @namespace    http://tampermonkey.net/<br>// @version      0.5<br>// @description  在Bangumi游戏条目上添加按钮，跳转到VNDB、Hitomi和2dfan搜索游戏标题<br>// @author       Sedoruee<br>// @match        https://bgm.tv/subject/*<br>// @grant        none<br>// ==/UserScript==<br><br>(function() {<br>    'use strict';<br><br>    // 获取条目类型和标题<br>    const subjectType = document.querySelector('.nameSingle > .grey')?.textContent;<br>    const gameTitle = document.querySelector('.nameSingle > a')?.textContent;<br><br>    // 仅当条目类型为 \"游戏\" 且标题存在时才执行<br>    if (subjectType === '游戏' && gameTitle) {<br>        const nameSingle = document.querySelector('.nameSingle');<br><br>        const createButton = (text, link) => {<br>            const button = document.createElement('button');<br>            button.textContent = text;<br>            button.style.marginLeft = '5px';<br>            button.addEventListener('click', () => {<br>                window.location.href = link;<br>            });<br>            nameSingle.appendChild(button);<br>        };<br><br>        createButton('VNDB', `https://vndb.org/v?q=${encodeURIComponent(gameTitle)}`);<br>        createButton('Hitomi', `https://hitomi.la/search.html?type%3Agamecg%20${encodeURIComponent(gameTitle)}%20orderby%3Apopular%20orderbykey%3Ayear`);<br>        createButton('2dfan', `https://2dfan.com/subjects/search?keyword=${encodeURIComponent(gameTitle)}`);<br>    }<br>})();</pre></div>","time":"2024-10-16 14:26","title":"在Bangumi游戏条目上添加按钮，跳转到VNDB、Hitomi和2dfan条目的油猴脚本","userId":"magisutan","userName":"Sedoruee","userSign":"(欢迎加入苞谷米摸鱼大队，Q群号1030903124)"}
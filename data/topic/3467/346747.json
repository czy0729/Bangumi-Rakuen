{"id":346747,"avatar":"//lain.bgm.tv/pic/user/m/000/42/58/425820.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"动机：为了把从各地搜刮来的黄油，里番，本子进行分类，我们自然希望靠脚本从数据库里查询到所下载的文件对应的游戏，获取更多的信息。比如可以查询到黄油对应的会社名称，从而进行整理。<br><br>问题描述：不同人上传的文件起的文件名大部分都是乱的。比如“[101224]Tiny Dungeon ～BLESS of DRAGON～(iso+mds+rr3)”或者是“[160624] [ぱれっとクオリア] オトメ＊ドメイン + Drama CD + Radio CD + Manual + Wallpaper”。直接让脚本去查询整个文件名肯定是不会得到什么好结果的。<br><img src=\"https://i.loli.net/2018/08/16/5b75909298b90.jpg\" class=\"code\" alt><br>去掉一部分，看起来结果还不错<br><img src=\"https://i.loli.net/2018/08/16/5b7590b828dce.jpg\" class=\"code\" alt><br>再去掉一点：<br><img src=\"https://i.loli.net/2018/08/16/5b7591bb1d7b6.jpg\" class=\"code\" alt><br>结果又不行了<br>但是起文件名规则都不一样，有的是方括号，有的是圆括号，有的是“+”，“_”等等，那么到底该取哪一部分进行查询呢？<br><br>解决办法：思路从一开始就错了。不应该是把资源和数据库对应，而应该是按数据库的名称去查找资源。<br>提高源的质量才是最根本的办法。现在基本只拖某站带有id的页面里的资源，还有bt站单一的一手源。<br>（现在的问题是重新打包的代价太大了……而且还是需要整理） ","time":"2018-8-16 23:02","title":"如何将混乱的文件名和acg数据库中的游戏一一对应？","userId":"425820","userName":"22222222222","userSign":""}
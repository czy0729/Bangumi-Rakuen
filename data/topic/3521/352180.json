{"avatar":"//lain.bgm.tv/pic/user/m/000/24/59/245983.jpg","floor":"#1","group":"宽带综合症候群","groupHref":"/group/download","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/35.jpg","message":"大家好，我已经把折腾的纪录写在博客上了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><a href=\"https://mistrpokr.wordpress.com/2019/08/28/rpi-nas-1/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">可能要翻出去</a><br><br>-------<br>硬盘外接供电之后Deluge稳定多了，如图<br><a href=\"https://i.loli.net/2019/08/31/oNOtf9Y2kF4eAqy.png\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\"><img src=\"https://i.loli.net/2019/08/31/oNOtf9Y2kF4eAqy.png\" class=\"code\" alt></a><br>-------<br><br><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">故事是这样的…<br>跟新室友偶然谈到NAS，一拍即合决定搞一台<img src=\"/img/smiles/tv/35.gif\" smileid=\"74\" alt=\"(bgm58)\">当然真相是我就想弄台本地的24/7在线的存储设备能在宿舍随时访问下载的BD/同人音声/大姐姐…<br>考虑了各个方面之后还是买了树莓派4，大概3天前到货了，在那之后我就疯狂折腾这块小板子连游戏都不玩了…<span style=\"background-color:#555;color:#555;border:1px solid #555;\">戒除网瘾，父母买了都说好</span><br>因为我其实不怎么懂Linux，所以基本是一边摸索一边设置<br><br>1 大概搞懂了Raspbian怎么玩，还好之前日用Ubuntu，很多地方都是共通的，比较适应<br><br>2 设置了FTP和Samba，挂上移动硬盘，成了！<br>——兴奋地掏出手机连上FTP开始下载一部BD，然后我就绝望了，因为速度只有他娘的4MBps不到(Byte)<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">这还看什么BD和大姐姐<br><br>3 想了想这USB3.0和千兆有线网口可不是盖的，于是上网找了一圈测试视频：结论是不仅树莓派3B就能跑出10MBps的速度，我也亲眼看到B站有个大哥用4B跑出了这个速度…<br><br>4 开始想问题会出在哪：<br>  文件系统？于是搞了另一块移动SSD，格成ext4，喜闻乐见继续4MBps……<br>  硬盘IO？跑了个简单的测试，发现这玩意读写速度把我都看傻了…和PC没啥区别啊<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>5 开始疯狂Google，大概找了一下午找到一个大哥在raspberry pi forums提了一句说「你的Pi和客户端之间只要有一个网络设备慢了那就整体都慢了」；我想了想，我家网络设备数量多且杂，于是就按照他的理论把Pi和PC直接有线连接插在同一个交换机上<img src=\"/img/smiles/tv/09.gif\" smileid=\"48\" alt=\"(bgm32)\"><br>测了个速，直接40MBps<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">……<br>是真的……<br>虽然以NAS的标准来说可能比较菜，可是它是树莓派啊<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>6 体验了兴奋之后开始搞更上层一些的应用<br>折腾了一晚上装上了Seafile，算作一个局域网网盘，测试了之后感觉很满意——然鹅…装上之后我才意识到这玩意有它自己的存储后台backend，挂不了FTP<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">算是一个不太符合需求的地方，不过有WebDAV功能，所以应该也能用<br>然后轻车熟路装上aria2挂下载，效果很满意（别问我为什么轻车熟路，我只能说用免费额度开GCP服务器的时候千万别像我一样妄想做下载服务器然后用超大硬盘光速跑完100刀额度<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">）<br><br>不过还有一个问题是，我其实很担心供电不稳等各种因素可能会提前烤了我的硬盘……不知道带供电的USB Hub能不能拯救它<img src=\"/img/smiles/tv/12.gif\" smileid=\"51\" alt=\"(bgm35)\"><br><br>折腾的过程差不多就这些，下面的工作就是开学之后去部署（微妙的用词<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">）到寝室<br>其实我也觉得这篇帖子写得语无伦次……<img src=\"/img/smiles/tv/90.gif\" smileid=\"129\" alt=\"(bgm113)\">可是我现在真的嗨到不行啦—— ","time":"2019-8-19 00:14","title":"之前说的树莓派4做低级NAS居然成功了","userId":"poker","userName":"Pokr","userSign":"(不知道写什么所以不写了)"}
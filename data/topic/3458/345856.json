{"id":345856,"avatar":"//lain.bgm.tv/pic/user/m/000/34/68/346809.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"我又来了，这次做了一个推荐系统<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">（是的，之前也有人做过）<br>本帖是对<a href=\"https://github.com/windrises/recommendation/blob/master/recommendation.ipynb\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/windrises/recommendation/blob/master/recommendation.ipynb</a>这个文档的补充，主要是说明系统的使用方式和我的一些工程上的考量。如果打不开github，可以尝试这个地址<a href=\"https://windrises.net/recommendation.html\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://windrises.net/recommendation.html</a><br>脚本安装地址：<a href=\"https://greasyfork.org/zh-CN/scripts/367956-%E6%BC%AB%E6%B5%B7%E6%8B%BE%E8%B4%9D\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://greasyfork.org/zh-CN/scripts/367956-%E6%BC%AB%E6%B5%B7%E6%8B%BE%E8%B4%9D</a><br>算法的文档和代码以及用到的数据在<a href=\"https://github.com/windrises/recommendation\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/windrises/recommendation</a><br>后端和脚本等代码依然在之前的项目地址：<a href=\"https://github.com/windrises/bgmtools\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/windrises/bgmtools</a><br>这次的数据是5月6号爬取的，你可以在上面找到包括爬取的原始数据，数据库导出数据，训练模型使用的数据等等<br><br>主要功能有：<br>1、针对每个动画条目提供“相似条目”和“可能喜欢”两个推荐模块，并且提供api<br>2、在网站首页提供个人的每日推荐<br>3、个性化定制你的每日推荐<br>4、查看推荐历史<br>5、提供好友推荐<br><br>详细说明：<br>1、在动画条目页显示，可以点击“更多推荐”按钮查看更多推荐，分别最多有48个推荐，按相似度排序。<br>“相似条目”的意思是两个条目有很多相同的标签，当然并不是简单的统计有多少是相同的，这里不再赘述。<br>“可能喜欢”的意思就是“喜欢该条目的用户可能也喜欢这些条目”。<br>下图是花开物语中推荐结果的截图<br><img src=\"http://wx1.sinaimg.cn/mw690/0062shohly1fra1x32u5xj30qa0jkavn.jpg\" class=\"code\" alt><br>2、在首页查看，再次点击“每日推荐”可以换一组推荐，每日最多推荐四组。<br>每一组前两个是按你的预测评分中比较高的条目中随机选取的（数据是5月6号爬的，在这之前评分数超过50个的用户可以使用这个功能，并且不会推荐那些你已经标记过的条目，我对每个用户预存了推荐top500的条目）。第三个是从你曾经给过好评的条目的相似条目中随机抽取的（如果你不满足前面的条件，那你的首页会全是这种相似条目的推荐）。<br>这个功能是所有功能中最复杂的，涉及到很多考量，下面是效果截图<br><img src=\"http://wx2.sinaimg.cn/mw690/0062shohly1fra2sq5srgj30k209r460.jpg\" class=\"code\" alt><br>3、在 个人设置--漫海拾贝 里，可以定制你的每日推荐。<br>同步按钮点击后服务器会爬取你最近标注的条目数据加入到数据库，并可能会影响到之后的每日推荐结果（注：这个同步功能暂时还没有实现，看情况以后有可能会完善）。<br><img src=\"http://wx1.sinaimg.cn/mw690/0062shohly1fra2a01cv8j30k30ezmxo.jpg\" class=\"code\" alt><br>4、在动画的收藏页可以看到历史推荐（只有每天推荐的第一组才会被记录在这里，并且一般来说之后不会重复推荐）<br><img src=\"http://wx4.sinaimg.cn/mw690/0062shohly1fra2w53eewj30fn07v74d.jpg\" class=\"code\" alt><br>5、先转到你的好友列表，然后会在旁边出现好友推荐的按钮。这里推荐的用户都是与你有相似喜好的（包括未评分的潜在的喜好），按相似度排序。<br><img src=\"http://wx1.sinaimg.cn/mw690/0062shohly1fra2w3nypxj30nb0fw44l.jpg\" class=\"code\" alt><br><br>这个系统从我开始构思找资料到着手做大量的实验到现在最终完成花了整整一个月中的每个夜晚，其中光是做实验就花去了大部分时间，然后写上面的文档也用了好几天。最终的结果我也比较满意，你也可以自己找些条目看看推荐结果。<br>我做这个推荐系统除了想学点东西，更大的想法其实就是想在大量的动画里拾取那些我可能会喜欢的。用这个系统先帮我筛选一遍，剩下推荐给我的，我自己再挑选着看。在这之前我偶尔会去看b站里我喜欢的动画下面提供的推荐，也靠着这个推荐找到了很多喜欢的动画，但是我还是不够满意。我也对一些常见的有推荐系统的网站做过调研，上面文档里写的有，这里就不多说了。<br>我之前想过如果有些动画的资源随着时间的流逝而下载不到了，那这个动画可能就真的永别了。现在我觉得如果我连那些可能喜欢的冷门作品的名字都没听过的话，这才是真正的遗憾。而这个每日推荐其实更加注重推荐那些你可能感兴趣的冷门佳作，如果你在每日推荐里看到了一些从没听过的并且评分人数很少的条目，不要单纯认为这个推荐算法有问题。其实每个人的推荐结果中靠前的往往都是那些很有名并且口碑很好的作品，但是并不是每个人都想把那些捧上神坛的作品看一遍。我个人比较喜欢找那些7分档的非热门番看，当然每个人有每个人的口味，这些推荐方面的个性化偏好你都可以自定义。<br><br>由于系统比较复杂，现在可能还不稳定，我也还没来得及做更多的测试。等稳定后你可以在超合金组件里自己创建一个组件，然后把脚本复制过去，这样你就可以在多个终端使用了（你的个人设置是存在服务器端的），当然用油猴的话更新脚本就会很方便。如果你用的app是基于网页爬取来实现的，那么你就可以在app中使用这个功能。<br><br>我想写的其实大部分都在上面的文档中，这里就暂时写到这里。如果你发现了有趣的推荐结果，不管是否准确，都欢迎跟帖分享。不管是写网站还是做推荐系统我都只是入门，不懂的地方非常多，非常非常非常欢迎提出各种意见和建议<img src=\"/img/smiles/tv/01.gif\" smileid=\"40\" alt=\"(bgm24)\">。如果发现了bug也请告知我，我会尽量第一时间修复。<br><br>----------------<br>脚本更新到了0.8版本，合并了@发光的球 做的<a href=\"https://bgm.tv/group/topic/345713\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://bgm.tv/group/topic/345713</a> ","time":"2018-5-13 23:16","title":"漫海拾贝 一个推荐系统","userId":"windrises","userName":"windrises","userSign":"(一个纠结的面瘫伪宅)"}
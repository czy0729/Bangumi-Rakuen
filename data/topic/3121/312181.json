{"id":312181,"avatar":"//lain.bgm.tv/pic/user/m/000/12/30/123081.jpg","floor":"#1","group":"字體硏究","groupHref":"/group/fonts","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/14/1495.jpg?r=1477147417","message":"相信安装过字体的人都接触过两种字体格式：.ttf和.otf。而这两种字体格式跟Truetype与Opentype这两种字体类型的复杂关系，在此稍微梳理一下。<br>====================<br><span style=\"font-size:20px; line-height:20px;\">Truetype</span><br>1991年苹果开发了Truetype格式的字体，起因是为了对付<span style=\"font-weight:bold;\">Adobe</span>的PostScript Type 1（简称Type 1）字体。之后微软加入了开发（苹果为了联合微软对付Adobe）。此时，苹果、微软、linux系列的操作系统都采用Truetype格式的字体，文件扩展名可以是.dfont和.ttf。<br>1994年，苹果继续开发Truetype并发表了TrueType GX技术（同样是为了对付Adobe）。这里面包括了kerning（可变间距）、连笔等。并最终包括到苹果的AAT（苹果高级排版）技术中。此时微软却没有跟进这些技术，原因后面讲。<br><br><span style=\"font-size:20px; line-height:20px;\">Opentype</span><br>1994年，微软开发了TrueType Open类型的字体，而且<span style=\"font-weight:bold;\">Adobe</span>也加入了开发，同Type 1合并，成为Opentype格式。文件扩展名可以是起源于PostScript Type 1/2的.otf( OpenType PS)，和起源于Truetype的.ttf(OpenType TT)。<br>Opentype也有类似TrueType GX的高级特性。<br><br>因此，目前的字体大概是苹果的TrueType、微软的OpenType TT、Adobe的OpenType PS三者并存的局面。<br><br><span style=\"font-size:20px; line-height:20px;\">苹果产品下的Opentype</span><br>Mac和iOS支持Opentype格式。不过是有限支持，因为苹果的高级排版只能依赖AAT，因此附带复杂特性的Opentype格式字体在苹果下就悲剧了。<br>好在有良心的厂家会开发支持AAT的Truetype格式的字体。<br><br><span style=\"font-size:20px; line-height:20px;\">微软产品下的Truetype</span><br>目前Windows附带的字体基本都是Opentype格式的了。<br>但是迫于微软的“兼容性”，微软只能使用更好兼容性的OpenType TT格式。<br>而且微软对字体的编码支持需要`cmap`里面包括古老的 cmap_format_4（也就是俗话说的BMP，此编码表仅包含U+0000 - U+FFFF 的编码。目前跑大多数网站的程序也仅支持该编码表，比如Bangumi、知乎等）。而苹果和Adobe等已经直接采用更先进的cmap_format_12了（编码范围为 U+00000000 - U+7FFFFFFF）。<br>因此，苹果和Adobe的字体在Windows下双击会显示「不是有效的字体文件」。<br>====================<br>回顾历史，三家公司在字体问题上的相爱相杀，真是……群魔乱舞，人神共怒啊<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"> ","time":"2015-10-22 00:00","title":"Truetype与Opentype","userId":"doream","userName":"Doream","userSign":"(夜海全书)"}
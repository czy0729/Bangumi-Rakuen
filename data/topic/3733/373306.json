{"id":373306,"avatar":"//lain.bgm.tv/pic/user/m/000/07/70/77020.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"人在日本，为了以防万一目前BT流量走的代理<br><br>大概这么一个网络<br><img src=\"https://p.sda1.dev/7/ee93dde1b763c34bbb997c49974ab78a/network.drawio.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><br>目前tracker那边显示的是VPS的IP，端口为1<br>qBittorrent这边显示端口阻塞<br><br>下载没问题，但是上传几乎为0，基本上都是在下载的同时上传，做种之后就基本没上传了<br><br>自己查了一下，大概是这么一个解释<div class=\"quote\"><q>Tracker服务器在寻找你的真实IP方面非常有天赋。但是这需要代理发送HTTP头标志HTTP_X_FORWARDED_FOR。如果你的代理没有这么做的话，Tracker服务器将把代理的IP当作你的客户端的IP。所以当你登录之后，Tracker服务器尝试连接你的客户端来确信你没有使用NAT/防火墙，服务器实际上将试图连接代理的IP（使用你的BT客户端报告的接收连接端口）。很自然地，代理服务器并没有监听那个端口。如此连接会失败，而Tracker服务器也因此认为你使用了NAT/防火墙。</q></div>所以我大概理解为，我的qB通过代理告诉tracker，端口是6881，但是tracker以为这是VPS在跟他说话，于是尝试链接VPS的6881端口，但是VPS的6881端口并没有提供任何服务，所以tracker觉得我防火墙了或者NAT了？<br><br>我目前打算尝试一下反代，希望有没有比较懂网络的大神能帮我看看问题所在<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"> ","time":"2022-9-26 09:32","title":"PT/BT挂代理导致上传几乎为0的问题","userId":"nagaseyami","userName":"长濑暗","userSign":""}
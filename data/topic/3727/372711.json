{"id":372711,"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"有时候fork一个repo瞎改了半天，想提交pr的时候已经搞不清什么状态于是需要这么做<br>之前有搜到过一些解决方案，有些方法大体好使，但是最大的问题是经常把untracked的文件给我直接删了。<br><br>我的需求是：<br>1.必须保持所有本地文件（除了.git目录）不动，包括一切.gitignore里untrack的文件<br>2.把当前的git状态恢复到某个特定commit（比如upstream master）<br><br>我一直用一个笨方法就是把所有文件复制到别处，然后重新clone，然后再复制回来覆盖。这样确实可以，但是想问问有没有更好的办法。<br><br>git新手，轻喷<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"> 事实上如何保持untracked的文件（一般都是一些个人笔记、测试用文件等等）一直是我搞不太明白的一点，切换branch有时候都经常丢失文件（尤其是有时候用GitHub Desktop切的时候） ","time":"2022-8-31 23:18","title":"Git如何实现：把当前git重置到remote的某个状态，但是保持本地所有文件不动重新计算diff","userId":"fireattack","userName":"烈之斩","userSign":"(V1046-R MAHORO)"}
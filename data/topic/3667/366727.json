{"id":366727,"avatar":"//lain.bgm.tv/pic/user/m/000/35/41/354111.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"手里有一个索尼D50录音笔，平时上课录音用的。前一阵子突发奇想，想用光纤输入接到解码器上，看看数字内录是不是bit perfect的。<br><br>实测通过PC foobar2000满音量输出到DAC，再通过spdif到录音笔内录，的确是bit perfect的。但是无论是自动还是手动控制录音开始和结束，都会在开头和结尾产生多余空白片段，想要完全还原的话还得有源文件比对删除这些空白片段。<br><br>我又试了下android手机，无论饶不饶过SRC，在满音量下都没法bit perfect记录，和源文件差得挺多。（有可能是音量的问题，因为我手机默认最大音量还是有-50mdb的衰减，我用magisk把配置文件改回0了，在adb里面查看音频信息也的确显示是0db了，辣鸡android<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">）<br><br>昨晚终于想起来把ipad带回来测试了，因为ipad上没有本地音源，就用apple music找了一张专辑下载了无损到本地。这张专辑apple music提供的是44.1/24，而我电脑上存的是通过CUETools验证的44.1/16的抓轨文件。<br><br>先测试第一首歌，把录音文件降低位深到16bit，删除开头结尾多余的空白片段之后，57233612字节中的前57230968字节是完全一致的，只有从57230969到57233612尾部这里，apple music是0，而抓轨文件不是空白。<br><img src=\"https://i.imgur.com/3gLFXkg.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><img src=\"https://i.imgur.com/yxiQyYo.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><img src=\"https://i.imgur.com/lJgQc1P.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><br>这我就更加好奇了，又重新内录一次，这次让am播放整张专辑，相当于录音得到一个整轨文件。录好之后，先降低位深到16bit，然后再根据本地抓轨文件删除开头多余的空白片段，根据总大小删除结尾多余空白片段，再根据cue文件做分轨，对比每首歌的差异。<br><br>实测发现ipad上播放歌曲的时候是连续不间断的，我这一通操作实现整轨录音是可行的。<br>（除非网络问题导致没加载出来，否则两首歌之间并不会插入额外的空白片段。）<br><br>激动人心的对比结果出来了：<br>第一首歌仍然和上次一样，在结尾处有2045字节不同，内录为空白0，抓轨大多为FF混杂少量FE FD 00 01。<br>第二首歌在开头和结尾都有区别，一共2974字节。开头部分从0x2C到0x537字节，结尾部分从0x34F78A8到0x34F82FB，不同之处同上。<br>第三首歌只有开头0x2C到0x267共410字节不同，不同之处同上。<br>其余的4-11首歌完全一致。<br><br>结论：应该是CD和数字版本身就有差异，而不是录音或者修改流程有瑕疵。<br><br>那这样就可以把抓轨的整轨文件输出至24bit，然后通过对比data块第一个非零数据和文件总大小，删除录音文件里的多余空白块，最后再用cue文件把修改好的录音文件分轨。<br>这样就得到了一张旧专辑的24bit版本哈哈哈哈。真够麻烦的<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>---------------<br>暂时没测试更多专辑，等有空再多内录几张对比看看。 ","time":"2021-12-21 17:05","title":"用光纤内录获取无损音频","userId":"sqliuchang","userName":"sqliuchang","userSign":""}
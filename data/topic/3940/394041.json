{"id":394041,"avatar":"//lain.bgm.tv/pic/user/m/000/46/64/466496.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"<span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">上帝说“要有光”，于是有了BT协议——我自己说的</span></span><br>本文章是家用服务器系列教程的第二篇，如果想阅读全部或者本篇排版出现问题，请访问：<a href=\"http://duke486.github.io\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">http://duke486.github.io</a><br>书接上文，我们已经成功在一台主机上部署了1Panel面板，并且利用它一键安装了Alist。有了前面的铺垫，本期基本上只需要简单的点几下鼠标就能轻松完成，一起来看看吧。接下来我们就正式开始配置自己的网盘，影视库，自动下载等功能了！<br><span style=\"font-weight:bold;\">本期效果图</span><br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221231356-sh3q5gq.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  新番自动下载，并且自动匹配封面、缩略图、海报、剧情、演员等元数据<br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221231749-9g0q519.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  Alist网盘和离线下载功能，支持普通下载、磁力链、BT种子<br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221231540-2pxba5l.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  qbit网页访问，它负责下载新番，也从Alist接受下载任务<br><span style=\"font-weight:bold;\">固定内网IP地址</span><br>一般来说，路由器会把我们家里的所有设备放在一个内网里，并且给每台设备分配一个IP地址。IP地址在分配时从地址池中选取，并在租约过期后回收，但是为了方便地访问我们的主机，我们不希望它的内网IP地址发生变化。所以在配置之前，需要设置一下固定IP。<br>  <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221232956-s0fmcph.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>最简单的方式是在路由器后台设置，以TPLINK路由器为例，进入IP与MAC绑定页面（小米路由器则是高级->DHCP。其他路由器找找带着DHCP，静态，绑定之类词语的选项）。对着主机点一下加号，IP就被固定下来啦，以后就不会出现突然访问不到页面的情况了。<br>  <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221233001-ug5tsr4.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-weight:bold;\">为Alist添加对应目录</span><br>刚配置好的Alist空空如也，我们希望能把它当做网盘使用，同时利用它管理下载和视频库。因此需要为它设置三个文件夹——Upload上传、Download下载、Series剧集。<br>打开面板，选择左侧的容器，勾选“显示应用商店容器”，对着Alist点击更多->编辑->挂载，在这里设置目录映射关系。<br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221233936-q5uoovq.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  它自带的不需要动，我们直接添加三条映射，文件夹名称参考前文三个单词填写：<br>本机：/home/你的主机用户名/文件夹<br>权限：读写<br>容器：/mnt/文件夹<br>最后点击确认，面板提示会重建容器，未持久化数据将丢失，我们不用担心，因为配置文件都是默认映射到主机的。<br>接下来点击一下日志按钮，找到Successfully created the admin user and the initial password is:XXXXXXX这里的XX就是你的默认密码，默认用户名是admin。随后通过快捷入口进入Alist并登录。  <br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221235004-d79f4bu.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>点击页面最底部的管理，进入后台设置页面，在存储选项卡里添加文件夹。<br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240221235912-1f4eoni.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  驱动选择“本机存储”；挂载路径输入“/上传的文件”，起别的名也行；根文件夹路径输入“/mnt/Upload”保存即可。其他两个文件夹以此类推。<br>至此，我们已经完成网盘功能了，在Alist主页右下角可以上传文件，右键文件可以下载，点击文件可以直接预览。<br><span style=\"font-weight:bold;\">安装媒体库，获取元数据</span><br>接下来是媒体库的安装和设置，和Alist相比简单很多！直接在1Panel应用商店安装Jellyfin，选上“允许外部端口”，其他的选项都不管即可。<br>安装后，和刚才一样添加一条映射：本机为“/home/你的主机用户名/Series”，容器为“/media/Series”,保存，然后通过快捷入口访问，即可打开首次使用设置。<br>  <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240222001532-qlw6g5m.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>首先选择中文，账号密码随意，点击添加媒体库，类型为节目，名称随意，文件夹如图。下面的语言一律选中文，国家选People开头的祖国全名。打钩媒体资料储存方式，打钩将媒体图像保存到媒体所在文件夹，其他的别动。一路下一步就完事了。<br>  <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240222001808-fnb3fpc.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-weight:bold;\">立即体验一把私人影院的魅力</span><br>我以芙莉莲为例，演示一下从网盘添加片子，下期将带来qbit自动下片、自动追番。我在Alist里面选择Series文件夹，创建“葬送的芙莉莲”文件夹，放几集进去。<br><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240222002735-ehe19io.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>  在jellyfin控制台里点一下扫描，来让他寻找番剧并补全缺失的信息。扫描一旦完成，就可以在浏览器、电视、平板等任何地方打开jellyfin网址或者APP来享受完美观影体验了~<br>    <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/1708537961-image-20240222012251-lx55bfr.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/image-20240222012411-ye3y9df.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br>不过由于元数据获取器是国外的，或者我们的片源命名不规范，个别剧集可能出现没有封面的情况，可以搜索“Jellyfin 手动刮削”来解决问题。也可以搜索Jellyfin豆瓣等，采用国内数据来一劳永逸，不过这些都是后话了~<br>现在就先介绍到这里，希望有更多人能体会到本地观影的乐趣！任何问题请留言告诉我。<br>  <img src=\"http://duke486.pub:5212/wp-content/uploads/2024/02/1708538787-113657216_p0.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt>","time":"2024-2-22 02:07","title":"【保姆教程】全自动追番、私人网盘、离线下载...我全都要！②","userId":"466496","userName":"Duke","userSign":""}
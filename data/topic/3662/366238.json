{"id":366238,"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#1","group":"番組WIKI計画","groupHref":"/group/wiki","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/01/128.jpg","message":"<span style=\"font-size:20px; line-height:20px;\">1 问题背景</span><br><br>条目日期在 bangumi 条目中的作用并非完全是展示性的，还涉及包括<a href=\"https://bgm.tv/group/topic/366240\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">年鉴</a>，<a href=\"https://bgm.tv/anime/browser/airtime/2020-1\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">发行日期筛选</a>，<a href=\"https://bgm.tv/group/topic/365816\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">发行时间排序</a>等一系列相关功能。不同于备注等字段，日期相关的字段会切实的影响 bangumi 的其他功能。<br><br><span style=\"font-size:20px; line-height:20px;\">2 问题现状</span><br><br>在长期以来，bangumi 对于日期的讨论并未有一个明确的结果。虽然 bangumi 有着一系列的实践标准（<a href=\"https://bgm.tv/blog/299855\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">1</a>,<a href=\"https://bgm.tv/group/topic/362159\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">2</a>），也曾多次进行过讨论（<a href=\"https://bgm.tv/group/topic/362159\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">1</a>,<a href=\"https://bgm.tv/group/topic/365833\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">2</a>,<a href=\"https://bgm.tv/group/topic/366022\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">3</a>），但并未能得出一个统一的讨论结果。<br><br>在经过了多次讨论之后，sai 老板认为：<div class=\"quote\"><q>根据上面的讨论，目前比较合适的方式是开始结束等日期字段用 yyyy-mm-dd，书刊号等描述性格式不转换。<br><br>前端提供选项大家自行选择。</q></div>出处: 基于 bot 的日期格式的讨论 <a href=\"https://bgm.tv/group/topic/366022#post_1903407\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">#49-10</a><div class=\"quote\"><q>可以先统一 &gt;100 的 good keys 到 yyyy-mm-dd。<br><br>带括号的有的是全角有的是半角，放置位置也不统一，可以再讨论规则给统一了。</q></div><a href=\"https://bgm.tv/group/topic/366022#post_1903643\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">#49-20</a><br><br>sai 老板发言主要在此贴的 <a href=\"https://bgm.tv/group/topic/366022#post_1901825\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">#48</a> 和 <a href=\"https://bgm.tv/group/topic/366022#post_1901972\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">#49</a><br><br>所以此贴的目的一是总结一下之前讨论的结果，二则是请各位资深维基人讨论一下包括辅助信息在内的相关问题。<br><br><span style=\"font-size:20px; line-height:20px;\">3 具体标准解释</span><br><br>字段分为两种字段，日期字段和非日期字段。<br><br>日期字段包括但不限于书籍区的 “发售日”，“连载开始”；游戏区的“发行日期”，“其他发行日期”；所有区的\"开始\"，\"结束\"<span style=\"font-weight:bold;\">等</span>字段。在这些字段中使用日期+辅助信息的格式填写。日期使用<span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">yyyy-mm-dd</span></span>格式填写。游戏的发售渠道，电影的上映地区，书籍的发售刊号等辅助信息则跟对应的日期填写在同一个字段中。<br><br>对于无法考据到具体日期的模糊日期（如<a href=\"https://bgm.tv/subject/78504\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">信长之野望・将星录</a>)，使用<span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">yyyy-mm</span></span>或者<span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">yyyy</span></span>的填写方法，以符合 bangumi 原有程序的日期解析方式(<a href=\"https://bgm.tv/group/topic/366022#post_1901843\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">出处</a>)。<br><br>非日期字段（比如备注字段）和日期字段的辅助信息（比如书刊号）等描述性内容不要求格式，由进行编辑的维基人自行决定。<br><br><span style=\"font-size:20px; line-height:20px;\">4 关于新标准增加的编辑工作量问题</span><br><br>此部分有待进一步完善<br><br>此标准的施行包含两个问题:<br><br>1 原有条目的修改<br>2 新条目的规范<br><br>对于问题1:<br><br>截至2021-11-23 18:37:54，非标准格式约34k个字段，游戏区15k，动画区15k，音乐区24，三次元区4k。<br>原有条目中80%的日期为简单的日期，不包含任何辅助信息。这一部分可以使用脚本直接修改。<br>剩下的20%（数量小于2.9k）包含多种情况，辅助信息多种多样，可能为 steam 这样的发售平台，也可能为日期时间段，所以导出进行人工修改。<br><br>对于问题2，即新增条目:<br><br>对于单纯的简单日期，直接由bot进行修改。<br>对于复杂情况，将条目列表导出并自动更新（效果类似这一帖子<a href=\"https://bgm.tv/group/topic/365856\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">wiki语法有问题的条目</a>这一帖子），进行进一步的人工修改。<br><br>对于条目标记者来说，需要注意的仅有辅助信息这一问题，不符合规范的日期格式可以进行自动转换，最大程度减少维基人创建条目时额外的工作量。<br><br>另外，sai老板曾经提过bot功能<div class=\"quote\"><q>bot 那边复核是可以，我想的是既然要复核了那不如弄个见习维基组，所有的编辑要维基人复核后才能采用，到达一定采用量成为维基人。</q></div>在bangumi的bot功能上线后由bot配合人工复核进行修改（如果有）。<br><br><span style=\"font-size:20px; line-height:20px;\">5 剩余问题</span><br><br>（有没有发现下面这三个问题都很眼熟？）<br><br><span style=\"font-size:16px; line-height:16px;\">5.1 辅助信息如何填写？</span><br><br>之前对包含辅助信息的日期进行了<a href=\"https://gist.github.com/Trim21/600447bc08ed0d64c4f5de1ad05a53f1#file-readme-md\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">统计</a>，其中包含了大部分当前的辅助信息写法。<br><br>由于<a href=\"https://bgm.tv/group/topic/365816\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">这个帖子</a> 中提到的日期排序问题，所以辅助信息应当放在日期之后。<br><br>剩余问题大概是: 要不要加括号，括号用全角还是半角等问题。<br><br><span style=\"font-size:16px; line-height:16px;\">5.2 时间段如何填写？</span><br><br>目前的时间段写法也有多种。<br><br>当前出现过的部分时间段写法:<br><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006年7月6日至今</span></span><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006年7月6日-</span></span><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006-07-06～2010</span></span><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006-08-03 - 09-03</span></span><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006年8月3日-9月3日</span></span><br><span style=\"font-weight:bold;\"><span style=\"text-decoration: underline;\">2006-08-29~30</span></span><br><br><span style=\"font-size:16px; line-height:16px;\">5.3 未定日期如何填写？</span><br><br><span style=\"font-size:20px; line-height:20px;\">6 其他遗漏</span><br><br>请补充 ","time":"2021-11-23 15:46","title":"基于bot的日期格式的讨论（二）","userId":"trim21","userName":"Trim21","userSign":"(<img src=\"#\" ></img>)"}
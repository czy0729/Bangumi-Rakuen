{"id":380453,"avatar":"//lain.bgm.tv/pic/user/m/000/43/79/437960.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"有老哥有mongodb-atlas的使用经验么？具体来说：在mongodb-atlas上托管了一个数据库和一个绑定了函数的https endpoint。想法是浏览器里用ajax直接get这个endpoint就可以查找数据库结果。但mongodb-atlas返回的包头里没有access-control-allow-origin，喜闻乐见的红字CORS了。（update：可以自己在函数返回的response里面加，不过就算加上了aca相关包头，还是继续红字；因为用来获取CORS信息的是preflight的OPTIONS request，是服务商自己的实现、而不是用户编程的函数）<br><img src=\"//lain.bgm.tv/pic/photo/l/32/c1/437960_Z8tqB.jpg\" class=\"code\" alt><br>简单调查了一下服务商是其实是有相关allowed origin的配置，但加上了之后好像还是继续CORS。(update：服务商里的origin配置实际上不影响http响应，只是根据origin字段来判定给不给数据库的授权，所以这个配置对解决问题没有帮助)<br><img src=\"//lain.bgm.tv/pic/photo/l/32/c1/437960_7t98B.jpg\" class=\"code\" alt><br>可有老哥支支招？<br>-<br>已解决、把授权信息放在body里而不是放在header里就可以正常收到access-control-allowed-origin的包头了 ","time":"2023-4-15 19:49","title":"[已解决] mongodb-atlas的跨域访问问题","userId":"neutrinoliu","userName":"徒手开根号二","userSign":"(nobody cares.)"}
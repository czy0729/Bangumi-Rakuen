{"id":387931,"avatar":"//lain.bgm.tv/pic/user/m/000/44/27/442777.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"中国之声是北京的全国广播电台。<br><br>现在的方法大致是这样，这个软件一启动就直接加载一个 m3u8 的流，然后立刻播放就行了。没有播放界面，只需要从命令行启动起来就能放了。<br><br>问了 ChatGPT，给我一个大概长这样的 sh 脚本：<br><br><div class=\"codeHighlight\"><pre><br>#!/bin/bash<br><br>STREAM_URL=\"http://ngcdn001.cnr.cn/live/zgzs/index.m3u8\"<br><br>ffmpeg -i \"$STREAM_URL\" -c copy -f wav -bsf:a aac_adtstoasc - | \\<br>afplay -q 1 -t 3600 -<br></pre></div><br><br>但这玩意儿启动就报错曰：<br><br>av_interleaved_write_frame(): Broken pipeN/A speed=N/A<br>[out#0/wav @ 0x135e09d60] Error muxing a packet<br>[out#0/wav @ 0x135e09d60] Error writing trailer: Broken pipe<br>size=       0kB time=00:00:00.02 bitrate=  30.0kbits/s speed= 127x<br>video:0kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown<br>Conversion failed!<br><br>看起来是打开的媒体流转换不成功无法播放导致 pipe 断掉了。<br><br>现在要如何改这个脚本，或者拿 python 写一个脚本也行？ ","time":"2023-10-1 13:49","title":"想要一个专用的中国之声软件播放器","userId":"duoduoeeee","userName":"duoduoeeee","userSign":"(风箫半举雾沉海，鸢影轻摇翼浮天)"}
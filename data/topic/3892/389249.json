{"id":389249,"avatar":"//lain.bgm.tv/pic/user/m/000/32/11/321161.jpg","floor":"#1","group":"宽带综合症候群","groupHref":"/group/download","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/35.jpg","message":"操作系统: Debian 12<br>package: qbittorrent-nox (4.5.2-3) / <a href=\"https://packages.debian.org/bookworm/qbittorrent-nox\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://packages.debian.org/bookworm/qbittorrent-nox</a><br><br>在这个环境中根据用途分别启动了 qbittorrent-bt 与 qbittorrent-pt 两个实例, 软件配置稍有不同, qbittorrent-pt 实例自然不需要开启 DHT/PeX, 一直以来都工作良好, 这次出问题的是 qbittorrent-bt 实例;<br><br>近期 Prowlarr 不知道出了什么问题, 添加的所有 Index 都搜索不到任何结果, 使得 Sonarr 没办法自动下载, 于是又回来尝试用 qbittorrent-nox 的 RSS 功能订阅 Mikan Project RSS 来自动下载;<br><br>回想了一下, 昨天晚上(2023-10-29 20:00 后)是在做了以下操作后 qbittorrent-nox 开始\"罢工\",<br><br>* RSS 页面订阅了 Mikan Project RSS, 配置了 RSS 自动下载<br>* 因为 Mikan Project 主站存在连接性问题, 于是在设置中开启了 HTTP 代理服务器, 有特别注意没有开启\"使用代理服务器进行用户连接\"<br>* 开始自动下载 Mikan Project RSS 下的的任务后 qbittorrent-bt 实例的总任务数超过了 600, 此后没多久就开始连不上 WebUI<br><br>首先怀疑的是\"会不会是任务数太多导致爆内存\"了? 但是看进程停止状态是 singal=SEGV, 而不是 OOMKilled, 不过之后尝试了把内存从 8GB 增加为 16GB, 问题没有改善, 启动后两到三分钟就被 singal=SEGV Killed; 之后怀疑会不会是代理服务器的问题, 尝试还原配置即关掉代理服务器的配置后问题仍然没有改善; 实在想不到什么办法后尝试以 qbittorent SEGV 为关键词搜索, 发现有人提到\"关闭 DownloadTrackerFavicon 这个选项\"以避免触发 Qt 的 bug, 虽然我这是 qbittorrent-nox, 压根就没有依赖 Qt;<br><br><a href=\"https://github.com/qbittorrent/qBittorrent/issues/10425\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://github.com/qbittorrent/qBittorrent/issues/10425</a><br><br>看这里提到 favicon, 剩下唯一的变量就是订阅了 Mikan Project RSS, 删掉这个订阅后状态马上恢复, 之后无论是再次打开代理还是订阅别的 RSS 都没问题;<br><br>谁能想到添加订阅一个 RSS 会导致 qbittorrent-nox \"爆炸\"?<br><br>有人想尝试一下能否复现吗? 不确定是不是个例?","time":"2023-10-30 23:49","title":"qbittorrent-nox 添加 Mikan Project RSS 后 signal=SEGV killed?","userId":"ak1ra","userName":"ak1ra","userSign":"(只是一个看动画片儿的...)"}
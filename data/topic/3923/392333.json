{"id":392333,"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"有时候下载番剧合集需要自己重命名的时候就用的这个, 自己写的垃圾代码给大家分享一下<br>ReNamer 官网下载: <a href=\"https://www.den4b.com/products/renamer\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://www.den4b.com/products/renamer</a><br>脚本添加方法就是 添加规则 - Pascal脚本, 然后右边复制粘贴就好<br><br>使用方法: 拖动文件名到ReNamer中 会自动弹出一个对话框, 输入相关信息就好<br>例如: 将下列文件添加到ReNamer中<br>    [Nekomoe kissaten][Mushoku Tensei S2][11][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][10][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][05][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][02][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][06][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][00][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][09][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][04][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][12][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][03][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][01][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][08][1080p][JPSC].mp4<br>    [Nekomoe kissaten][Mushoku Tensei S2][07][1080p][JPSC].mp4<br><br>在对话框中输入: '无职转生 ～到了异世界就拿出真本事～ (2021).S2*0'<br>然后效果是<br><img src=\"https://s2.loli.net/2024/01/10/mx97ZaQk2B8e4fw.png\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><br>最后感谢大家! <img src=\"/img/smiles/tv/02.gif\" smileid=\"41\" alt=\"(bgm25)\"><br><div class=\"codeHighlight\"><pre><br><br>{ 章节数字填充 }<br>function getEpisode(a: Integer):String;<br>begin<br>  Result := 'E' + IntToStr(a);<br>  if a < 10 then Result :=  'E0' + IntToStr(a);<br>end;<br><br>function matchExt(FileExt: String): Boolean;<br>begin<br>  Result := False<br>  if (POS(FileExt,lowercase(FileName)) > 0) then<br>    begin<br>      Result := True<br>    end<br>end;<br><br>var<br>  {程序运行次数, Tv计数, 简体ass计数, 繁体ass计数}<br>  I, TvStart, ScAss, TcAss, start: Integer;<br>  { 合集名称, 季度, 自定义尾缀}<br>  TvName, Season, CurrExt: String;<br>  InputName: WideString;<br>  SplitInputName: TWideStringArray;<br>  { 文件扩展名 }<br>  Ext: String;<br><br>procedure Initialize;<br>begin<br>  // 初始化代码<br>  if WideInputQuery('renamer番剧命名脚本', '这里填名称+季度+其他信息(可选)+*(起始集数)就行： 例如: \"游戏人生 (2014).S1.720p*1\"', InputName) then<br>    begin<br>      { 分词拆分 - 开始集数 }<br>      start := 1;<br>      SplitInputName := WideSplitString(InputName, '*');<br>      if length(SplitInputName) = 2 then start := StrToInt(SplitInputName[1]);<br>      { 剧集信息 }<br>      SplitInputName := WideSplitString(SplitInputName[0], '.');<br>      if length(SplitInputName) < 2 then<br>        begin<br>          WideShowMessage('请确认输入信息是否有误');<br>          Exit;<br>        end<br>      else if length(SplitInputName) = 3 then CurrExt := ' - ' + SplitInputName[2];<br>      TvName := SplitInputName[0];<br>      Season := SplitInputName[1];<br>    end;<br>  TvStart := start;<br>  ScAss := start;<br>  TcAss := start;<br>end;<br><br>begin<br>  if I = 0 then Initialize;<br>  I := I + 1;<br>  Ext := WideExtractFileExt(FileName);<br><br>  { 匹配字幕文件 }<br>  if matchExt('sc.ass') or matchExt('chs.ass') or matchExt('zh-Hans.ass') or matchExt('.ssa') then<br>    begin<br>      Ext := '.zh-Hans' + Ext;<br>      FileName := TvName + ' - ' + Season + getEpisode(ScAss) + CurrExt + Ext;<br>      ScAss := ScAss + 1;<br>    end<br>  else if matchExt('tc.ass') or matchExt('cht.ass') or matchExt('zh-Hant.ass') then<br>    begin<br>      Ext := '.zh-Hant' + Ext;<br>      FileName := TvName + ' - ' + Season + getEpisode(TcAss) + CurrExt + Ext;<br>      TcAss := TcAss + 1;<br>    end<br>  else if matchExt('.ass') then<br>    begin<br>      FileName := TvName + ' - ' + Season + getEpisode(ScAss) + CurrExt + Ext;<br>      ScAss := ScAss + 1;<br>    end<br>  else<br>    begin<br>      FileName := TvName + ' - ' + Season + getEpisode(TvStart) + CurrExt + Ext;<br>      TvStart := TvStart + 1;<br>      {FileName := TvName + ' - ' + Season + Episode + CurrExt + Ext;}<br>    end;<br>end.<br></pre></div>","time":"2024-1-10 11:01","title":"ReNamer 番剧自动命名脚本","userId":"625297","userName":"world","userSign":""}
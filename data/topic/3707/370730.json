{"id":370730,"avatar":"//lain.bgm.tv/pic/user/m/000/41/06/410622.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"<a href=\"https://github.com/1574242600/bgmtv-importer\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://github.com/1574242600/bgmtv-importer</a><br>从 json 文件导入观看进度。<br><br>文件结构:<br>```json<br>[   <br>    {<br>        \"id\": \"number  条目 id\",<br>        \"status\": \"string  可选  观看状态 请参考 Bangumi.tv 官方 API 文档，默认为 'wish'\",<br>        \"watchedEps\": \"number[]  可选  观看过的集数\",<br>        \"watchedVols\": \"number 可选   观看到的卷数\"<br>    }, <br>]<br>```<br><br><br>这轮子暂时没有支持导入导入的 ep 数超过 100 个的进度，因为它使用 `/ep/{id}/status/{status}` 更新 ep 状态，批量更新需要 post 每一个ep id。<br><br>为什么不用 `/subject/{subject_id}/update/watched_eps` ？<br><br>我把握不住。<br>这个 api 更新 eps 有很多“特性”（小组里有人说过，但我找不到了）所以它只用来更新 vols。<br><br>所以在新 api 完成之前，可能都不会支持导入导入的 ep 数超过 100 个的进度。<br><br><br><br>另外，还有个从 bgm 导出到 mal 的脚本<br>但现在还不是很好用，希望有人帮忙踩下雷。<br><a href=\"https://github.com/1574242600/messy-stuff/tree/main/project/javascript/bangumi-exporter\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">https://github.com/1574242600/messy-stuff/tree/main/project/javascript/bangumi-exporter<br></a> ","time":"2022-6-17 19:39","title":"Bgmtv-importer 条目观看进度导入器 --- 一个可能已经有人写过的轮子","userId":"nworm","userName":"Nworm","userSign":""}
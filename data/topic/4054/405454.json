{"id":405454,"avatar":"//lain.bgm.tv/pic/user/m/000/43/79/437960.jpg","floor":"#1","group":"Bangumi半月刊","groupHref":"/group/biweekly","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/49/4986.jpg?r=1706848267","message":"最近忙完手头的工作，来落实一下半月刊编发的社区化~ 利用这期SP简单介绍一期半月刊从组织、设计、然后推送到小组件主页横幅上的基本流程。虽然没啥技术含量，但也可以给有兴趣做内容相关组件开发的班友做个参考。<br><br>整体上大的流程分三部：日志筛选、海报拼贴、组件部署。<br><br><p style=\"text-align: center;\"><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\"> // </span></span></p><br><span style=\"font-weight:bold;\">首先【日志筛选】</span><br><br>当前的日志筛选主要是几位常驻编委（<a href=\"/user/fisherman\" class=\"l\">@FISHERMAN</a><a href=\"/user/377939\" class=\"l\">@ドリドリ</a><a href=\"/user/firework_bd\" class=\"l\">@Black Dog</a><a href=\"/user/729813\" class=\"l\">@三月长影</a> ）在主持。有一个共享的腾讯文档作为缓冲区，整体上是一个做聚类的思路：哪天哪位看到了自己很喜欢的文章，会往共享的腾讯文档里面添加推荐记录，但实际上的添加单位是该文章的“话题”。要是有好几个看起来不错的文章有着共通的话题，那下一期就分出一个栏目给这几篇。话题下没有足够多的文章那就等等，等之后有足够数目了，就摘取出来作为下期的栏目。<br><br><p style=\"text-align: center;\"><img src=\"https://api-cab.pages.dev/biweekly/src/sp1_4.jpg\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\">bangumi feeling lucky 查看短评/长评推荐</span></span></p><br>文章的来源一般是<a href=\"https://chii.in/group/topic/393318\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">日志广场</a>，所以班友使用<a href=\"https://chii.in/dev/app/2720\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">组件</a>的点赞会直接推荐作品到半月刊；除开日志广场，还有 <a href=\"https://neutrinoliu.github.io/bgm_reviews/blog.html\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">bangumi feeling lucky</a> 可以直接可视化所有的日志推荐。早几期我自己独立编纂的时候、采用的是更暴力的做法：遍历两周之内产生的所有新日志，然后以一套标准去从中摘选。要是摘选得不够、再从我日常视奸的几个大佬后院捞几个过来（比如早前几期<a href=\"https://bgm.tv/group/topic/393771\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">朝花夕拾</a>）。<br><br>之于筛选标准、现在的每位向腾讯文档贡献推荐记录的编委或许都会有自己的想法；而我自己早期选择的时候更偏向于那些 <span style=\"font-weight:bold;\">“对于读者更为友好”</span> 的日志（比如这篇<a href=\"https://bgm.tv/blog/319325\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">伪造的日常</a>），首先最好表达清晰明确的观点、读起来也不那么费力、要是再有丰富的信息与新鲜的视角，那基本我都会收进来。晦涩聱牙的要是连我自己都读不明白、一般也不会收入。<br><br>一期半月刊，日志筛选阶段大概会产生4到5个主题，每个主题下3到5篇文章，一般不超过15篇。<br><br><span style=\"font-weight:bold;\">然后是【海报拼贴】</span><br><br>封面的选择其实比较被动，把筛选出来的日志所相关的所有动画作品过一遍pixiv，按照<a href=\"https://greasyfork.org/ja/scripts/34153-pixiv-plus\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">人气从高到低</a>找一遍有没有适合做封面的图。要是还没找到的话，基本就直接拉官网的海报了（比如迷宫饭与新奥特曼两期）。<br><br>选好的基础的海报素材，拼贴本身是比较机械和流水的，一般照着“相框-刊题-目录-角色-背景”的层叠，可以很轻松的取得看起来还不错的视觉效果。有时候注意一下字体，加一些后处理的artifact、看起来会更自然。还常用的技巧是做一点角色遮罩（比如败犬女主和少女革命两期）往往能获得意外不错的、标题和素材和谐融合的体验。<br><br><p style=\"text-align: center;\"><img src=\"https://api-cab.pages.dev/biweekly/src/sp1_0.jpg\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\">相框-刊题-目录-角色-背景</span></span></p><br>到这里我们应该有了一个各要素完备的海报。<br><br><span style=\"font-weight:bold;\">最后一步【组件部署】</span><br><br><p style=\"text-align: center;\"><img src=\"https://api-cab.pages.dev/biweekly/src/sp1_2.jpg\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\">首页的最新刊banner</span></span></p><br>除开每期的主题帖，开启了小组件的用户可以直接在首页上获取、阅读到最新刊。首页banner点开后的海报实际上是内嵌了pdf文件，而pdf文件本身可以加入超链接；于是就以这种方式实现了点击标题的日志跳转。而绝大多数移动端把pdf当作图片渲染，因此移动端只能直接跳到每期的主题帖。<br><br>为了避免麻烦sai每次审核小组件、首页的banner是以fetch来获取最新刊的信息。具体是从<a href=\"https://api-cab.pages.dev/biweekly/latest.json\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">静态api</a>查询最新刊的信息，然后加载相应的banner与pdf。该静态api是cloudflare缓存的<a href=\"https://github.com/NeutrinoLiu/API/tree/main/biweekly\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">github仓库</a>；墙内对于github访问不稳定、如果有班友打算利用github做内容托管，不妨再加一层cloudflare的cdn，会是很方便的处理。<br><br><span style=\"text-decoration: underline;\">实际上所有的封面图与pdf也都托管在这个仓库下，所以以后如果有其他班友想制作发布半月刊，可以直接对该仓库发起merge request，包括添加新的pdf与修改latest.json文件，我会及时合并。</span><br><br><p style=\"text-align: center;\"><img src=\"https://api-cab.pages.dev/biweekly/src/sp1_3.jpg\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\">似乎没什么太大作用的徽章系统</span></span></p><br>日志页面边栏的徽章系统，基于我托管在mongodb的数据库来标记；要是想添加徽章到每一期新日志，需要手动往数据库里录入信息。不过现在看来徽章系统没有起到太多的激励效果，可能并不是一个很重要的设计。<br><br>剩下的就是发主题帖和at作者们。这一步骤也很容易模板化，这里写了一个<a href=\"https://colab.research.google.com/drive/1Q6tZuz0m7YH5lwEZfrlCSISduu4h2dz4?usp=sharing\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">小脚本</a>来生成bbcode。不过班固米的at系统有上限，一个帖子召唤了12个左右的用户之后，再at就没有效果了；也不排除就是这么设计的。<br><br>以上就是半月刊的编发全流程，现在的管线是几位编委选好日志后交给我来制作海报与部署。<br><br><p style=\"text-align: center;\"><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\"> // </span></span></p><br>回头看看还是挺感慨的：最开始只是视奸完好友的日志，想着“这么棒的长评居然没有人看太可惜了”的单纯想法弄了第一期，不知不觉已经做到了九期（虽然现在已经佛系更新了起来）。很感谢几位编委和群友的支持、还有每期来捧场的读者们，当然最感谢的是班里笔耕不辍的作者们。<br><br><p style=\"text-align: center;\"><img src=\"https://api-cab.pages.dev/biweekly/src/sp1_1.jpg\" class=\"code\" rel=\"noreferrer\" referrerpolicy=\"no-referrer\" alt><br><span style=\"font-size:12px; line-height:12px;\"><span style=\"color: grey;\">当然最感谢的是班里笔耕不辍的作者们</span></span></p><br><span style=\"font-weight:bold;\">半月刊一直想给投入心血与精力的内容作者们以更多被曝光被阅读的机会，形成读者反馈与创作热情的正向循环；希望有更多班友加入到有价值的内容创作、有趣的UGC内容挖掘上来。</span>最后宣传一下我们的qq群，十五天株式会社（<a href=\"https://qm.qq.com/q/q8m85mkamA\" target=\"_blank\" rel=\"nofollow external noopener noreferrer\" class=\"l\">961379358</a>），帕鲁绝赞招募中。","time":"2024-9-14 15:31","title":"【Bangumi半月刊 SP1】一期半月刊是怎么憋出来的","userId":"neutrinoliu","userName":"他说nil没法调用IsNil","userSign":"(nobody cares.)"}
{"id":311641,"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#1","group":"靠谱人生茶话会","groupHref":"/group/boring","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/03/364.jpg","message":"关联贴（？）：<a href=\"http://bgm.tv/group/topic/311583\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://bgm.tv/group/topic/311583</a><br><br>本来是想随便写点东西练练手，熟练一下Python的metaclass，decorator，mixin之类的，毕竟平常基本都在用sklearn、pandas这种东西，写真正意义上的python code机会比较少。结果谁知道越写越多，干脆就写成个package了。然后顺便加了个简易CLI。<br><br>地址：<a href=\"https://github.com/glennq/bgmcli\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/glennq/bgmcli</a><br>注：不支持Python3，且目前只支持动画条目。<br><br>Quick Start:<br><br>安装：clone下来之后用 \"python setup.py install\" 安装。<br><br>API基本用法<br><div class=\"codeHighlight\"><pre><br>import codecs<br>from bgmcli.api import BangumiSession<br><br># 标记条目id 253为看过，评分8，并加Tag<br>with BangumiSession('xxxxx@gmail.com', 'password') as session:<br>    coll = session.get_sub_collection('253')<br>    coll.c_status = 2<br>    coll.rating = 8<br>    coll.tags = ['SUNRISE', 'TV']<br>    coll.sync_collection()<br><br># 导出在看动画条目及进度为JSON<br>with BangumiSession('xxxxx@gmail.com', 'password') as session:<br>    watching = session.get_dummy_collections('anime', 3)<br>    serialized = [coll.to_regular_collection().to_json() for coll in watching]<br>with codecs.open('watching.txt', 'w', encoding='utf8') as f:<br>    f.write('\\n'.join(serialized))<br></pre></div><br><br>CLI基本用法（见gif）：<br><img src=\"http://hime.io/images/2015/08/22/7895751737740751.gif\" class=\"code\" alt><br><br><br>嘛，想想应该也不会有人用，就连我自己大概也不会用，所以估计也不会有新功能了。<br><br>下一个项目，可能是用RNN来自动生成茶话会风格的帖子吧，如果我有空的话。 ","time":"2015-8-22 10:19","title":"也来发布新产品：bgm非官方Python API及简易点格子用CLI","userId":"glennq","userName":"Glenn","userSign":""}
{"avatar":"//lain.bgm.tv/pic/user/m/000/40/64/406430.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"网络环境越来越烂，特别是CF，真的没想到会有bangumi.tv比bgm.tv快的这一天……前几天试了试<a href=\"https://github.com/bitbeans/SimpleDnsCrypt\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">SimpleDnsCrypt</a>，也就是<a href=\"https://github.com/DNSCrypt/dnscrypt-proxy\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">DnsCrypt</a>的一个GUI。bgm简直秒开，但是也有<span style=\"font-weight:bold;\">很严重</span>的副作用，国内网站几乎无法访问，因为指向境外CDN，我连个百度都卡的不行。<br>稍微看了一下，找到了<a href=\"https://github.com/IrineSistiana/mos-chinadns\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">mos-chinadns</a>，读了一下Wiki，用了Windows的那个服务控制脚本，发现好像并没有起作用，该污染的还是污染。<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">已经把config里默认的udp改成了dot，看了看是大陆用的是阿里云，境外用了cf的1111。这个就很奇怪……<br><img src=\"https://p.sda1.dev/0/9a5902b44a6e3e3607cef9f56c9b62dd/notepad++_RUGcOAJpDt.png\" class=\"code\" alt><br>在v2ex看到一种说法，阿里云会对境外IP返回正常结果，大陆IP返回污染后的结果，试了试貌似确实是这样？<br><img src=\"https://p.sda1.dev/0/46fde13a99e1cb56d33f6da96b08ca6b/Xshell_Vf3cAPyir6.png\" class=\"code\" alt><br><img src=\"https://p.sda1.dev/0/544ee50a943d7d4edd1c8d15bb09f613/cmd_9JYN6ZVmAI.png\" class=\"code\" alt><br><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">下面有个插入subnet的地方，我试着加了个8.8.8.8。然后就报错了。<br><div class=\"codeHighlight\"><pre>time=\"2020-07-20T16:54:50+08:00\" level=fatal msg=\"main: init dispatcher: parsing local ECS subnet, invalid ECS address [8.8.8.8], not a CIDR notation\"</pre></div><br>我就怀疑是我subnet加的不对，读了下Wikipedia，也没有什么思路<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">不知道该怎么加能让阿里认为我在境外？至于这个被污染的网址为什么没有去cf难道是dns请求直接被墙拦了？<br>总之我现在很迷茫也觉得很奇怪，因为似乎其他用mos-chinadns都没有遇到过我这样的问题……<br>P.S.昨天在系统设置里面把dns从运营商默认的改成阿里云，似乎所有有CF的网站都不返回解析了？bgm.tv我都是加了hosts才能访问……<br>或者说在Windows上有什么很好的dns解决方案吗？<span style=\"font-weight:bold;\">（别跟我说路由器如何如何）</span> ","time":"2020-7-20 17:41","title":"有人研究过mos-chinadns吗？","userId":"406430","userName":"若荼泱","userSign":"(根据相关法律法规，签名栏未予显示)"}
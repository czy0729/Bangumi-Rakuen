{"id":792,"avatar":"//lain.bgm.tv/pic/user/m/000/00/35/3546.jpg","floor":"#1","group":"～技术宅真可怕～","groupHref":"/group/a","groupThumb":"//lain.bgm.tv/pic/icon/m/000/00/00/11.jpg","message":"<span style=\"color: blue;\"><br>题记：今天刚好看到群里有人问，平时一向比较不是很喜欢这种脑残智力题的(喂)，不过今天还是用程序写了个……没找到标准答案，所以有可能有错，随便了= =||<br><br><br>已知：x和y都是自然数，且1<x<y<30.<br>我把x+y的结果告诉了甲，把x*y的结果告诉了乙。<br>甲说：“我不知道x和y各是多少。”<br>乙说：“我也不知道x和y各是多少。”<br>甲又说：“我知道x和y是多少了。”<br>接着乙也说：“我也知道x和y是多少了”。<br>请问：x和y各是多少。<br><br>代码如下：<br><br>    #include \"stdafx.h\"<br><br>    // ============================================================================<br>    // ==============================================================================<br><br>    int SumNum(int nSum)<br>    {<br>        //~~~~~~~~~<br>        int nX = 0;<br>        int nY = 0;<br>        int nCnt = 0;<br>        //~~~~~~~~~<br><br>        for (nX = 2; nX < 30; ++nX) {<br>            for (nY = nX + 1; nY < 30; ++nY) {<br>                if (nX + nY == nSum) {<br>                    ++nCnt;<br>                }<br>            }<br>        }<br><br>        return nCnt;<br>    }<br><br>    // ============================================================================<br>    // ==============================================================================<br>    int ProductNum(int nProduct)<br>    {<br>        //~~~~~~~~~<br>        int nX = 0;<br>        int nY = 0;<br>        int nCnt = 0;<br>        //~~~~~~~~~<br><br>        for (nX = 2; nX < 30; ++nX) {<br>            for (nY = nX + 1; nY < 30; ++nY) {<br>                if (nX * nY == nProduct) {<br>                    ++nCnt;<br>                }<br>            }<br>        }<br><br>        return nCnt;<br>    }<br><br>    // ============================================================================<br>    // ==============================================================================<br>    int OneSumProductNotOnlyOneNum(int nSum)<br>    {<br>        //~~~~~~~~~<br>        int nX = 0;<br>        int nY = 0;<br>        int nCnt = 0;<br>        //~~~~~~~~~<br><br>        for (nX = 2; nX < 30; ++nX) {<br>            for (nY = nX + 1; nY < 30; ++nY) {<br>                if (nX + nY == nSum && ProductNum(nX * nY) > 1) {<br>                    ++nCnt;<br>                }<br>            }<br>        }<br><br>        return nCnt;<br>    }<br><br>    // ============================================================================<br>    // ==============================================================================<br>    bool HaveXY(int nSum, int nProduct, int &nX, int &nY)<br>    {<br>        //~~~~~~~~~<br>        int nCnt = 0;<br>        //~~~~~~~~~<br><br>        for (nX = 2; nX < 30; ++nX) {<br>            for (nY = nX + 1; nY < 30; ++nY) {<br>                if (nX + nY == nSum && nX * nY == nProduct) {<br>                    return true;<br>                }<br>            }<br>        }<br><br>        return false;<br>    }<br><br>    // ============================================================================<br>    // ==============================================================================<br>    int _tmain(int argc, _TCHAR *argv[])<br>    {<br>        //~~~~~~~~~~~~~~<br>        int nSum = 0;<br>        int nProduct = 0;<br>        int nX = 0;<br>        int nY = 0;<br>        int nCnt = 0;<br>        int nSumStore = 0;<br>        //~~~~~~~~~~~~~~<br><br>        for (nProduct = 4; nProduct < 900; ++nProduct) {<br>            nCnt = 0;<br>            for (nSum = 4; nSum < 60; ++nSum) {<br>                if (HaveXY(nSum, nProduct, nX, nY) && SumNum(nSum) > 1<br>                && ProductNum(nProduct) > 1) {<br>                    if (nSum == 17) {<br>                        int t = 1;<br>                    }<br>                    if (OneSumProductNotOnlyOneNum(nSum) == 1) {<br>                        nSumStore = nSum;<br>                        ++nCnt;<br>                    }<br>                }<br>            }<br><br>            if (nCnt >= 1) {<br>                HaveXY(nSumStore, nProduct, nX, nY);    // Get X, Y here<br>                printf(\"Sum %d Product %d x %d y %d\\n\", nSumStore, nProduct, nX, nY);<br>            }<br>        }<br><br>        getchar();<br>        return 0;<br>    }<br><br><br><br>结果：<br><br>Sum 8 Product 12 x 2 y 6<br>Sum 10 Product 24 x 4 y 6<br>Sum 42 Product 432 x 18 y 24<br>Sum 46 Product 504 x 18 y 28<br><br><br>咱还以为是一组解呢，原来有四组么……顺便……甲乙你们只是聪明而已？确定不是人形自走电脑么= =||<br><br><br><br>P.S. 解的解释<br><br><br>e.g.<br><br>x=18/y=24/和42 乘积 432<br>13 29 30内唯一分解<br>14 28 30内唯一分解<br>15 27 30内唯一分解<br>16 26 30内唯一分解<br>17 25 30内唯一分解<br>18 24 还有 16 27的分解<br>19 23 30内唯一分解<br>20 22 30内唯一分解<br><br>这样就可以确定，一定是18/24<br>这组解同时也满足，乙知道甲知道后也知道的情况，乘积在432时，只有42满足上述条件，所以乙也能知道<br></span> ","time":"2009-8-8 20:09","title":"我不知道你不知道我知道了你知道了……智力题什么的最讨厌了……","userId":"piao_polar","userName":"飘","userSign":"(请叫我预言帝)"}
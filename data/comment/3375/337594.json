[{"avatar":"//lain.bgm.tv/pic/user/m/000/05/02/50293.jpg","floor":"#2","id":"1127989","time":"2016-1-30 09:56","userId":"simon007","userName":"Simon Chan","userSign":"","message":"<div class=\"quote\"><q>除了广告就是一张静态图片</q></div>这个页面还有一个 gif，作为漫画图片的背景图，所以即使看起来页面一点也没动，浏览器还是以每秒 60 次的速度重新绘制页面，至少是重新绘制漫画图片的区域<br>然后由于奇怪的问题，一个 gif 就能让 Chrome 和 Firefox 吃掉大量的 CPU，我只百度到几个远古时期的 issue，但是没有任何 workaround 或者 fix，或许写一个样式把这个 gif 去掉是可行的 workaround.<div class=\"quote\"><q>怎么诊断是哪个部分的锅呢？</q></div>现代浏览器都装备有性能调试器用于诊断页面的性能，IE/Edge 位于 F12 - Performance，Firefox 位于 DevTools - Performance，Chrome 的页面调试和 JavaScript 调试是分开的，分别在 Developer Tools 的 Timeline 和 Profiles.<br>IE 在此页面上并无问题，但是通过 Firefox 和 Chrome 的 profile 都可以看出页面在不停的 repaint，Firefox 会给出重绘区域的坐标，Chrome 可以通过 Render - Enable paint flashing 快速直观地看出重绘区域，然后就是对重绘区域进行调查确认问题。","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#2-1","id":"1128008","time":"2016-1-30 11:18","userId":"dhzy","userName":"dhzy","userSign":"","message":"真详细！我看看"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#2-2","id":"1128024","time":"2016-1-30 11:55","userId":"dhzy","userName":"dhzy","userSign":"","message":"<img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\">感觉来到了新世界"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#2-3","id":"1128086","time":"2016-1-30 16:33","userId":"dhzy","userName":"dhzy","userSign":"","message":"话说在profile那里怎么看出在不停的repaint？<img src=\"/img/smiles/tv/11.gif\" smileid=\"50\" alt=\"(bgm34)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/05/02/50293.jpg","floor":"#2-4","id":"1128112","time":"2016-1-30 19:36","userId":"simon007","userName":"Simon Chan","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">dhzy</span> 说: 话说在profile那里怎么看出在不停的repaint？</q></div>说了页面调试在 Timeline 里啊，这个不管 JavaScript 的事所以 Profiles 里没有<br>我觉得还是 IE 和 Firefox 那样放在一起比较好，虽然 Firefox 的 JavaScript profile 看起来好弱鸡"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#2-5","id":"1128208","time":"2016-1-31 03:23","userId":"dhzy","userName":"dhzy","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Simon Chan</span> 说: 说了页面调试在 Timeline 里啊，这个不管 JavaScript 的事所以 Profiles 里没有<br>我觉得还是 IE 和 Firefox 那样放在一起比较好，虽然 Firefox 的 Java...</q></div>噢是这样"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#3","id":"1128009","time":"2016-1-30 11:19","userId":"dhzy","userName":"dhzy","userSign":"","message":"<a href=\"/user/magicfish1990\" class=\"l\">@MagicFish1990一边吃草一边</a>  What happened?","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/00/64/6497.jpg","floor":"#3-1","id":"1128010","time":"2016-1-30 11:26","userId":"magicfish1990","userName":"铃猫 一边吃🥗一边","userSign":"","message":"图挂了。。。"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/64/6497.jpg","floor":"#4","id":"1128011","time":"2016-1-30 11:28","userId":"magicfish1990","userName":"铃猫 一边吃🥗一边","userSign":"","message":"<img src=\"http://i.imgur.com/0XUmqFs.png\" class=\"code\" alt><br><br>漫画后面有个一直在动的gif当背景，整个图片一直在重绘。。。<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#4-1","id":"1128034","time":"2016-1-30 12:13","userId":"dhzy","userName":"dhzy","userSign":"","message":"这gif意义何在..."},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/64/6497.jpg","floor":"#4-2","id":"1128038","time":"2016-1-30 12:15","userId":"magicfish1990","userName":"铃猫 一边吃🥗一边","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">dhzy</span> 说: 这gif意义何在...</q></div>前端偷懒没做动态增减<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#4-3","id":"1128043","time":"2016-1-30 12:23","userId":"dhzy","userName":"dhzy","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">MagicFish1990一边吃草一边</span> 说: 前端偷懒没做动态增减</q></div>好，我果然听不懂"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/64/6497.jpg","floor":"#4-4","id":"1128047","time":"2016-1-30 12:28","userId":"magicfish1990","userName":"铃猫 一边吃🥗一边","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">dhzy</span> 说: 好，我果然听不懂</q></div>就是图片加载完后应该去掉这个loading图片，结果前端没做<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#4-5","id":"1128082","time":"2016-1-30 16:31","userId":"dhzy","userName":"dhzy","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">MagicFish1990一边吃草一边</span> 说: 就是图片加载完后应该去掉这个loading图片，结果前端没做</q></div>Sooooga"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/28/2813.jpg","floor":"#5","id":"1128017","time":"2016-1-30 11:33","userId":"ruocaled","userName":"若卡","userSign":"(✨️VIP 8✨️)","message":"有趣，原來img的src和background是在同一個層上畫得<img src=\"/img/smiles/tv/05.gif\" smileid=\"44\" alt=\"(bgm28)\"><br><br>這麼多吐糟是\b逼我吐槽嗎 <img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><img src=\"//lain.bgm.tv/pic/photo/l/39/d3/2813_if5Jn.jpg\" class=\"code\" alt>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/21/19/211931.jpg","floor":"#5-1","id":"1128026","time":"2016-1-30 11:58","userId":"dhzy","userName":"dhzy","userSign":"","message":"你和楼上怎么都是vip8..."},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/28/2813.jpg","floor":"#5-2","id":"1128027","time":"2016-1-30 11:59","userId":"ruocaled","userName":"若卡","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">dhzy</span> 说: 你和楼上怎么都是vip8...</q></div>同一年注册的"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/42/14268.jpg","floor":"#5-3","id":"1128058","time":"2016-1-30 12:59","userId":"calfn","userName":"触触✅个人认证","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">若卡</span> 说: 同一年注册的</q></div>被盗号的vip还能拿回来吗"}]}]
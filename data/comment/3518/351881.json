[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#2","id":"1473081","time":"2019-8-2 20:59","userId":"313469","userName":"Cedar","userSign":"(｡´-д-)","message":"测试楼层","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#2-1","id":"1473082","time":"2019-8-2 20:59","userId":"313469","userName":"Cedar","userSign":"","message":"测试回复"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/83/188332.jpg","floor":"#3","id":"1473096","time":"2019-8-2 21:43","userId":"lostanother","userName":"Another","userSign":"(追番日益，补番日损)","message":"亲测可用，很方便<img src=\"/img/smiles/tv/43.gif\" smileid=\"82\" alt=\"(bgm66)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/18/83/188332.jpg","floor":"#3-1","id":"1473098","time":"2019-8-2 21:53","userId":"lostanother","userName":"Another","userSign":"","message":"在超展开点主楼两个链接还是会打开新网页，不知道有没有可能解决。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/23/2331.jpg","floor":"#3-2","id":"1473102","time":"2019-8-2 21:59","userId":"leins","userName":"leins=pallange","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Another</span> 说: 在超展开点主楼两个链接还是会打开新网页，不知道有没有可能解决。</q></div>对 刚想说这个 需要转换下"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#3-3","id":"1473105","time":"2019-8-2 22:02","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Another</span> 说: 在超展开点主楼两个链接还是会打开新网页，不知道有没有可能解决。</q></div><span style=\"text-decoration: line-through;\">感觉好像不行? 我不太清楚..<br>有什么组件能做到影响超展开右侧内容的么? 要是有的话应该就有办法..</span><br>原来超展开的bug早就修好了啊.."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#4","id":"1473101","time":"2019-8-2 21:59","userId":"liaune","userName":"君寻","userSign":"(学会欣赏不完美)","message":"<div class=\"codeHighlight\"><pre><br>document.querySelectorAll(\"a.l\").forEach((a,i) => {<br>        if(a.href.match(/#post_\\d+/)){<br>            a.href = a.href.match(/#post_\\d+/);<br>            a.target = \"_self\";<br>        }<br>    });<br></pre></div><br>这样就行啦，include不需限制，支持所有页面","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#4-1","id":"1473107","time":"2019-8-2 22:06","userId":"313469","userName":"Cedar","userSign":"","message":"这样写能支持超展开么?<br>因为我担心影响别的链接 所以故意加了一堆限制<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#4-2","id":"1473111","time":"2019-8-2 22:08","userId":"liaune","userName":"君寻","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这样写能支持超展开么?<br>因为我担心影响别的链接 所以故意加了一堆限制</q></div>能支持超展开<br>不过我忘了要匹配一下是不是在原页面了，超展开的url还有点不同"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#4-3","id":"1473119","time":"2019-8-2 22:13","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">君寻</span> 说: 能支持超展开<br>不过我忘了要匹配一下是不是在原页面了，超展开的url还有点不同</q></div>这样的话我一堆组件都要加上超展开了<br>啊..又要改了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#4-4","id":"1473130","time":"2019-8-2 22:27","userId":"liaune","userName":"君寻","userSign":"","message":"<div class=\"codeHighlight\"><pre>if(document.location.href.match(/(group|topic|ep|blog|comments|character)\\/(\\d+)/)){<br>        document.querySelectorAll(\"a.l\").forEach((a,i) => {<br>            if(a.href.match(/#post_\\d+/)){<br>                if(a.href.match(/(\\d+)#post_/)[1] == document.location.href.match(/(group|topic|ep|blog|comments|character)\\/(\\d+)/)[2]){<br>                    a.href = a.href.match(/#post_\\d+/);<br>                    a.target = \"_self\";<br>                }<br>            }<br>        });<br>    }</pre></div><br>这样应该就没问题了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#4-5","id":"1473138","time":"2019-8-2 22:36","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">君寻</span> 说: if(document.location.href.match(/(group|topic|ep|blog|comments|character)\\/(\\d+)/)){&nbsp; &nbsp;&nb...</q></div>好的 我研究研究<img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#4-6","id":"1473231","time":"2019-8-3 03:44","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">君寻</span> 说: if(document.location.href.match(/(group|topic|ep|blog|comments|character)\\/(\\d+)/)){&nbsp; &nbsp;&nb...</q></div>发现你这个代码有bug 主楼有样例<br>不过我已经弄出来了..想不到这么简单一个组件也能这么复杂..<br>(另外我不是很喜欢用match..所以没有采用b38)"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#5","id":"1476835","time":"2019-8-9 16:14","userId":"313469","userName":"Cedar","userSign":"(｡´-д-)","message":"组件过审!","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/39/203946.jpg","floor":"#6","id":"1483187","time":"2019-8-24 22:01","userId":"whyjxz14","userName":"OH_toothache","userSign":"(小圣杯邀请码: whyjxz14#576501)","message":"这个好有mediawiki的感觉。。。","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-1","id":"1483228","time":"2019-8-24 23:26","userId":"313469","userName":"Cedar","userSign":"","message":"什么是mediawiki? 是什么感觉?"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/39/203946.jpg","floor":"#6-2","id":"1483230","time":"2019-8-24 23:29","userId":"whyjxz14","userName":"OH_toothache","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 什么是mediawiki? 是什么感觉?</q></div>就是。比如说维基百科之类的网站。都是mediawiki的。里面很常见会用到页内跳转链接"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-3","id":"1483231","time":"2019-8-24 23:31","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">OH_toothache</span> 说: 就是。比如说维基百科之类的网站。都是mediawiki的。里面很常见会用到页内跳转链接</q></div>喔..其实很多网站都会的 页首目录什么的 挺常见的"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/39/203946.jpg","floor":"#6-4","id":"1483232","time":"2019-8-24 23:33","userId":"whyjxz14","userName":"OH_toothache","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 喔..其实很多网站都会的 页首目录什么的 挺常见的</q></div>不。那些链接很好康。只有维基的像你楼上的一样很简朴<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-5","id":"1483234","time":"2019-8-24 23:39","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">OH_toothache</span> 说: 不。那些链接很好康。只有维基的像你楼上的一样很简朴</q></div>其实基本上跟bangumi原生的楼内链接是一个效果<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>简单点好 写复杂了占资源多 播放动画效果还浪费时间.."}]}]
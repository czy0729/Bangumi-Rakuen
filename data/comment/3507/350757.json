[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#2","id":"1446586","time":"2019-5-26 14:58","userId":"313469","userName":"Cedar","userSign":"(｡´-д-)","message":"更新了! 这次直接进化成超代码块了! (写教程简直累死我了..","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#3","id":"1446591","time":"2019-5-26 15:03","userId":"fireattack","userName":"烈之斩","userSign":"(V1046-R MAHORO)","message":"有个小问题，设置css那行（例如font: 16px/18px \"MS PGothic\", \"ＭＳ Ｐゴシック\";）也会显示出来，这正常吗？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#3-1","id":"1446592","time":"2019-5-26 15:05","userId":"313469","userName":"Cedar","userSign":"","message":"正常的 我故意保留了, 原因在教程里有写:<div class=\"quote\"><q>设置字体的这一行不会像之前设置标题时一样被删除.<br>保留的原因是其他人可以对照设置的内容安装自己电脑里没有的字体.</q></div>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#3-2","id":"1446608","time":"2019-5-26 15:42","userId":"313469","userName":"Cedar","userSign":"","message":"其实删去也可以..<br>不过我觉得这类代码块很少出现, 而且保留它也影响不大, 所以就没有删去<br>如果哪天BBcode支持自定义字体了 那就可以删掉了<br><span style=\"text-decoration: line-through;\">但到那时我还要看看具体该怎么改</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#3-3","id":"1446629","time":"2019-5-26 16:11","userId":"fireattack","userName":"烈之斩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 正常的 我故意保留了, 原因在教程里有写:</q></div>哦哦，不好意思看漏了"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#4","id":"1446637","time":"2019-5-26 16:50","userId":"liaune","userName":"君寻","userSign":"(学会欣赏不完美)","message":"原来还可以这么玩，因吹斯听~<br>感觉可以再扩展一下，不局限于code，让BGM支持更多的HTML和CSS用法<br>比如播放音乐和视频之类的<img src=\"/img/smiles/tv/14.gif\" smileid=\"53\" alt=\"(bgm37)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#4-1","id":"1446642","time":"2019-5-26 17:25","userId":"313469","userName":"Cedar","userSign":"","message":"我担心会不会被注入代码之类的?<br>选择Code也是因为这个样式比较简单 写起来容易一点, <span style=\"text-decoration: line-through;\">更复杂的我不会<img src=\"/img/smiles/tv/16.gif\" smileid=\"55\" alt=\"(bgm39)\"></span>"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/04/210454.jpg","floor":"#5","id":"1446638","time":"2019-5-26 16:53","userId":"mp4spig","userName":"🌸九重凛🌸","userSign":"(人不抽我，我不抽人。人若抽我，我必抽人。 ...)","message":"太好了，终于有[fold][/fold]特性了？<br>bgm什么时候能有[allow][/allow]特性呢？<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#5-1","id":"1446643","time":"2019-5-26 17:28","userId":"313469","userName":"Cedar","userSign":"","message":"这个要给sai打钱才行了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/04/210454.jpg","floor":"#5-2","id":"1446686","time":"2019-5-26 19:25","userId":"mp4spig","userName":"🌸九重凛🌸","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这个要给sai打钱才行了</q></div>可以默认让sai老板全站启用一下？不然不同用户看到的不同啊。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#5-3","id":"1446697","time":"2019-5-26 19:56","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">九重凛</span> 说: 可以默认让sai老板全站启用一下？不然不同用户看到的不同啊。</q></div>确实会不一样, 不过我感觉影响不大<br>其实我设计标题格式的时候就考虑过这一点<br>对于没有开组件的人而言, 开头那一排 ====== 或者 !======! 可以单纯当做分隔线装饰<br>而写成 ===标题=== 或者 !===标题===! 本身就很像标题了<br>然后..代码块即使不能折叠也能显示, 而且本来别人的电脑上就有可能没有你想显示的字体..启不启用组件都有可能显示不正常<br>font之类的因为只占了一行, 大概会被当做乱码吧..反正无论是否启用组件能看到这一行, 问题也不大..<br><br>当然能默认启用最好 这会显得这个组件很有用<img src=\"/img/smiles/tv/58.gif\" smileid=\"97\" alt=\"(bgm81)\"><br>就是不知道sai老板是什么想法.."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6","id":"1446639","time":"2019-5-26 16:53","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"下一步就是找一个js highlight库了吗","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-1","id":"1446644","time":"2019-5-26 17:29","userId":"313469","userName":"Cedar","userSign":"","message":"这就在我能力范围之外了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><span style=\"text-decoration: line-through;\">其实我有想过的但我不知道该怎么做</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-2","id":"1446649","time":"2019-5-26 18:03","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这就在我能力范围之外了<br>其实我有想过的但我不知道该怎么做</q></div>当然是用现成的轮子啦<a href=\"https://highlightjs.org/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://highlightjs.org/</a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-3","id":"1446654","time":"2019-5-26 18:19","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 当然是用现成的轮子啦https://highlightjs.org/</q></div>这我大概要研究好久b38"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-4","id":"1446873","time":"2019-5-27 10:48","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这我大概要研究好久b38</q></div>我搞定了<br>把<div class=\"codeHighlight\"><pre><br>$('head').append('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.6/build/styles/github.min.css\">')<br>$.get('https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.6/build/highlight.min.js', function (data) {<br>  eval(data.responseText)<br>  $('pre').each(function () {<br>    hljs.highlightBlock($(this)[0])<br>  })<br>})<br></pre></div><br><br>加在<span style=\"font-weight:bold;\"> //utility functions</span>之前<br>这段代码会加载对应的主题和highlightjs的代码，然后渲染语法高亮（但我不确定sai老板会不会同意用这种方式引入依赖。。。）<br><br>还可以加一个配置项设置对应的style，但我不太熟悉配置相关的代码，就不改了<br>效果大概这样<br><a href=\"https://wx4.sinaimg.cn/large/bd69bf14ly1g3fooxbkkbj20os0nwtdn.jpg\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://wx4.sinaimg.cn/large/bd69bf14ly1g3fooxbkkbj20os0nwtdn.jpg</a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-5","id":"1446914","time":"2019-5-27 13:15","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 我搞定了<br>把<br>$('head').append('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-re...</q></div>哇!! 等我研究研究..其实我的给代码块加css style也是这么插入页面的, 但是没试过js.."},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-6","id":"1446920","time":"2019-5-27 13:30","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 哇!! 等我研究研究..其实我的style的css也是这么插入页面的, 但是js没试过..</q></div>你组件的CSS不是用的bgm自带的加载CSS吗…"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-7","id":"1446923","time":"2019-5-27 13:37","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 你组件的CSS不是用的bgm自带的加载CSS吗…</q></div>从localStorage读取出来的字体字号该怎么用bgm自带的加载CSS? 我不知道诶..那两个我都直接写进文件头了.."},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-8","id":"1446924","time":"2019-5-27 13:42","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 从localStorage读取出来的字体字号该怎么用bgm自带的加载CSS? 我不知道诶..那两个我都直接写进文件头了..</q></div>我错了，我以为组件下面和脚本并列的那个样式是你用到的全部的CSS了（"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-9","id":"1446925","time":"2019-5-27 13:44","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 从localStorage读取出来的字体字号该怎么用bgm自带的加载CSS? 我不知道诶..那两个我都直接写进文件头了..</q></div>我看了一圈动态加载js，然后调用js中函数的办法，因为组件本身就是在加载之后用xhr加载的，这个时候已经过了dom ready的时间点了，所以只能用eval代码的办法来加载了。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-10","id":"1446931","time":"2019-5-27 14:00","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 我看了一圈动态加载js，然后调用js中函数的办法，因为组件本身就是在加载之后用xhr加载的，这个时候已经过了dom ready的时间点了，所以只能用eval代码的办法来加载了。</q></div>原来是这样! 谢谢! (容我去查查xhr和dom ready 还有eval..b38"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-11","id":"1446970","time":"2019-5-27 16:20","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 我搞定了<br>把<br>$('head').append('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/highlightjs/cdn-re...</q></div>奇怪..这个好像不准..有时候辨别不出注释..比如这种:<br><div class=\"codeHighlight\"><pre>//comments<br>/*comments*/<br>let a = 'foo';<br>//comments<br>/*comments*/<br>let b = 'bar';</pre></div><br>你给的截图里也是..有些有注释有些没有..(而且为啥注释是绿的? 我这儿默认是灰色斜体..)"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-12","id":"1446976","time":"2019-5-27 16:45","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 奇怪..这个好像不准..有时候辨别不出注释..比如这种:<br>//comments//commentslet a = 'foo';//commentslet b = 'bar';<br>你给的截图里也是..有些...</q></div><span style=\"text-decoration: line-through;\">这个库的问题，好像识别/**/这种注释比较准<br></span><br><br>是我的用法问题，应该在eval之后加上一句hljs.configure({useBR: true})<br><br>（我之前截图的时候用的主题可能跟最后发的不是一个主题"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-13","id":"1446987","time":"2019-5-27 17:09","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 这个库的问题，好像识别/**/这种注释比较准<br><br><br>是我的用法问题，应该在eval之后加上一句hljs.configure({useBR: true})<br><br>（我之前截图的时候用的主题可能跟最后发的不是一...</q></div>在configure里加useBR我之前也试过 但是好像没用诶..有时候能识别出注释 有时候又只能识别一部分或者完全没效果, 而且开头的注释从来没识别成功过..<br>换成/**/也不行..加了class=javascript也不行..套个<code>也不行..时好时坏的.."},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-14","id":"1446993","time":"2019-5-27 17:19","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 在configure里加useBR我之前也试过 但是好像没用诶..有时候能识别出注释 有时候又只能识别一部分或者完全没效果, 而且开头的注释从来没识别成功过..<br>换成/**/也不行..加了class=...</q></div>也许考虑用这个 <a href=\"https://github.com/PrismJS/prism\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/PrismJS/prism</a><br>好像基本就这两个语法高亮库了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-15","id":"1447014","time":"2019-5-27 18:26","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 也许考虑用这个 https://github.com/PrismJS/prism<br>好像基本就这两个语法高亮库了</q></div>这个看起来不错! 但是我不太会用..<br>是说要把上面的两个链接换成PrismJS里面某个文件的raw么 我不知道该换成哪个..github里没有叫prism.min.js的文件诶"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#6-16","id":"1447025","time":"2019-5-27 19:29","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这个看起来不错! 但是我不太会用..<br>是说要把上面的两个链接换成PrismJS里面某个文件的raw么 我不知道该换成哪个..github里没有叫prism.min.js的文件诶</q></div>这个库并不支持自动检测语言，所以还是用highlightjs吧<br><br>其实我觉得highlightjs的效果已经挺让人满意了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#6-17","id":"1447032","time":"2019-5-27 20:14","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 这个库并不支持自动检测语言，所以还是用highlightjs吧<br><br>其实我觉得highlightjs的效果已经挺让人满意了</q></div>也可以!<br>其实我打算让你们在写代码的时候手动在开头标明自己用的语言, 因为自动检测会出错..#6-11就被识别成了cs而不是javascript..<br>而且标明自己用的语言的话 相当于说明自己确实是在展示代码而不是别的..到时候可以单独给代码块加个code的tag 而不只是pre.."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#7","id":"1446665","time":"2019-5-26 18:51","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"(プリキュアなりたい)","message":"辛苦了","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#7-1","id":"1446677","time":"2019-5-26 18:59","userId":"313469","userName":"Cedar","userSign":"","message":"<img src=\"/img/smiles/tv/58.gif\" smileid=\"97\" alt=\"(bgm81)\">"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/04/210454.jpg","floor":"#8","id":"1447002","time":"2019-5-27 17:46","userId":"mp4spig","userName":"🌸九重凛🌸","userSign":"(人不抽我，我不抽人。人若抽我，我必抽人。 ...)","message":"手机上没有用的吗？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#8-1","id":"1447004","time":"2019-5-27 17:59","userId":"313469","userName":"Cedar","userSign":"","message":"是说 bgm.tv/m 么?<br>那个地方所有组件都是无效的<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/04/210454.jpg","floor":"#8-2","id":"1447005","time":"2019-5-27 18:04","userId":"mp4spig","userName":"🌸九重凛🌸","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 是说 bgm.tv/m 么? 那个地方所有组件都是无效的</q></div>啊哦<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#8-3","id":"1447007","time":"2019-5-27 18:08","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">九重凛</span> 说: 啊哦</q></div>如果哪天组件支持手机了 这个组件应该马上就能支持 需要改动的地方很少"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#8-4","id":"1447056","time":"2019-5-27 21:31","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 如果哪天组件支持手机了 这个组件应该马上就能支持 需要改动的地方很少</q></div>感觉其实加上一个现实桌面版的链接就可以"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#8-5","id":"1447060","time":"2019-5-27 21:43","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">lhb5883-污喵王VIP⑩</span> 说: 感觉其实加上一个现实桌面版的链接就可以</q></div>这么改不就失去了移动版的存在意义了么<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#8-6","id":"1447062","time":"2019-5-27 21:44","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 这么改不就失去了移动版的存在意义了么</q></div>想看的时候能切换就行"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#8-7","id":"1447066","time":"2019-5-27 21:47","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">lhb5883-污喵王VIP⑩</span> 说: 想看的时候能切换就行</q></div>晚上的时候用手机点开链接被闪瞎 ("},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#8-8","id":"1447146","time":"2019-5-28 11:07","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Cedar</span> 说: 晚上的时候用手机点开链接被闪瞎 (</q></div>只能希望有客户端能刷超展开<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/07/94/79410.jpg","floor":"#9","id":"1447148","time":"2019-5-28 11:36","userId":"ks_magi","userName":"ks.magi","userSign":"(2011 冬、始)","message":"代码块最重要的行号呢……","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#9-1","id":"1447151","time":"2019-5-28 12:29","userId":"313469","userName":"Cedar","userSign":"","message":"本来没想写成\"代码\"块的..高亮都没有呢..（stackoverflow上也没有行号..我自己写代码也很少用到行号.."}]}]
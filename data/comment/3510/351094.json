[{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#2","id":"1452992","time":"2019-6-12 12:31","userId":"mono","userName":"rnono","userSign":"(汝视视汝)","message":"各平台会很多... 也许可以从爬好的内容 as a (http) service开始","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#2-1","id":"1452997","time":"2019-6-12 12:40","userId":"318489","userName":"魔法使","userSign":"","message":"嗯，那最初的开发应当从哪个平台入手呢？我现在有点想用C++来写，Python的话感觉不方便嵌入其他项目，也有考虑用Java，但是就是纯粹面向Android平台了"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#3","id":"1452996","time":"2019-6-12 12:40","userId":"ekibun","userName":"ekibun","userSign":"","message":"有结构化bangumi网页数据的打算吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#3-1","id":"1452999","time":"2019-6-12 12:41","userId":"318489","userName":"魔法使","userSign":"","message":"parse只是第一步，更多的是作为interface"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#4","id":"1452998","time":"2019-6-12 12:40","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"跨平台很难搞啊，难道说的是js吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>搞一个爬虫提供http api感觉是相对来说最好的选择","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#4-1","id":"1453000","time":"2019-6-12 12:43","userId":"318489","userName":"魔法使","userSign":"","message":"跨平台的话，感觉上应当是代码移植性的问题，如果使用POSIX规范的话，PC平台应该是没问题的，Android好像也支持引入C++和.so库，具体还没查相关资料。<br><br>还有就是iOS平台的问题，嘛，就是想大家集思广益下，看看怎么做最方便"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#4-2","id":"1453001","time":"2019-6-12 12:45","userId":"318489","userName":"魔法使","userSign":"","message":"http api的话也应该是一个比较好的解决方案"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#4-3","id":"1453002","time":"2019-6-12 12:46","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">永夜的魔法使</span> 说: 跨平台的话，感觉上应当是代码移植性的问题，如果使用POSIX规范的话，PC平台应该是没问题的，Android好像也支持引入C++和.so库，具体还没查相关资料。<br><br>还有就是iOS平台的问题，嘛，就是想...</q></div>我觉得大部分bgm开发者都不会用到c或者c++来写个跟bgm相关的东西，虽然写出来可以轻松的绑定到各种语言…<br><br>nodejs和Python也支持c扩展"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#4-4","id":"1453006","time":"2019-6-12 12:53","userId":"318489","userName":"魔法使","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 我觉得大部分bgm开发者都不会用到c或者c++来写个跟bgm相关的东西，虽然写出来可以轻松的绑定到各种语言…<br><br>nodejs和Python也支持c扩展</q></div>嗯，暂时想法就是基于C/C++核心，然后套一层皮，扩展到别的编程语言上。此外还可以提供HTTP API或者RPC之类的"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/45/62/456208.jpg","floor":"#5","id":"1453014","time":"2019-6-12 13:02","userId":"sukaretto","userName":"czy0729","userSign":"(安卓/iOS Bgm App http://bgm.tv/group/topic/350677 ...)","message":"API就够了 问题是谁提供服务器 parse的cookie也不好搞","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#5-1","id":"1453019","time":"2019-6-12 13:06","userId":"trim21","userName":"Trim21","userSign":"","message":"众筹（<br>我现在就有几台机子闲置可以拿出来用…"},{"avatar":"//lain.bgm.tv/pic/user/m/000/40/82/408230.jpg","floor":"#5-2","id":"1453030","time":"2019-6-12 13:15","userId":"408230","userName":"astrea","userSign":"","message":"最理想的应该是API+本地的库，只有API的问题是bangumi有rate limit(虽然有野路子绕过)+额外一层到第三方服务器的延迟，只有本地库的问题是parse网页必然是不稳定的，假如本地的库出问题了能有一个作为fall back的在线API，丢一个html过去解析一个parse好的数据回来"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#5-3","id":"1453046","time":"2019-6-12 13:35","userId":"318489","userName":"魔法使","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">astrea</span> 说: 最理想的应该是API+本地的库，只有API的问题是bangumi有rate limit(虽然有野路子绕过)+额外一层到第三方服务器的延迟，只有本地库的问题是parse网页必然是不稳定的，假如本地的库出...</q></div>有点意思"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#6","id":"1453018","time":"2019-6-12 13:05","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"(プリキュアなりたい)","message":"后排支持（","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/60/26024.jpg","floor":"#7","id":"1453074","time":"2019-6-12 14:05","userId":"everpcpc","userName":"蜜瓜改二@五月病🍭","userSign":"","message":"所以其实如果 sai 老板能来把 api 再完善一下就没有这么多事了","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#7-1","id":"1453075","time":"2019-6-12 14:07","userId":"318489","userName":"魔法使","userSign":"","message":"HTTP API完善了，在写程序的时候还不是要wrap一次<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">，可能的话做成编程语言的native interface形式，直接调用，方便直接。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#7-2","id":"1453090","time":"2019-6-12 14:27","userId":"mono","userName":"rnono","userSign":"","message":"能直接读DB是最好的，从html parse时总有种亏了感"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#7-3","id":"1453215","time":"2019-6-12 20:12","userId":"318489","userName":"魔法使","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">rnono</span> 说: 能直接读DB是最好的，从html parse时总有种亏了感</q></div>如果做成班固米的镜像DB站的话，条目有更新肯定没法动态获取，只能爬全站，感觉赛姐姐会生气，这小霸王服务器想必也承受不了。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#7-4","id":"1453228","time":"2019-6-12 20:22","userId":"mono","userName":"rnono","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">永夜的魔法使</span> 说: 如果做成班固米的镜像DB站的话，条目有更新肯定没法动态获取，只能爬全站，感觉赛姐姐会生气，这小霸王服务器想必也承受不了。</q></div>可以cache嘛, 對最終用戶不是大問題"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#7-5","id":"1453230","time":"2019-6-12 20:23","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">永夜的魔法使</span> 说: 如果做成班固米的镜像DB站的话，条目有更新肯定没法动态获取，只能爬全站，感觉赛姐姐会生气，这小霸王服务器想必也承受不了。</q></div>做成镜像DB站，然后把数据库放在公网上给人连吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><br>从客户端或者其他第四方网站来说，感觉调用http api要比多一个数据库需要自己来链接要方便多了吧"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#7-6","id":"1453239","time":"2019-6-12 20:38","userId":"318489","userName":"魔法使","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">rnono</span> 说: 可以cache嘛, 對最終用戶不是大問題</q></div>做一个本地的缓存系统么？工程量感觉又增加了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#7-7","id":"1453240","time":"2019-6-12 20:40","userId":"318489","userName":"魔法使","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 做成镜像DB站，然后把数据库放在公网上给人连吗<br><br>从客户端或者其他第四方网站来说，感觉调用http api要比多一个数据库需要自己来链接要方便多了吧</q></div>数据库服务也可以用http api提供啊&#x1F31A;"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#8","id":"1458599","time":"2019-6-30 22:28","userId":"ekibun","userName":"ekibun","userSign":"","message":"爬了一遍登录，不知道有没有用<br><a href=\"https://gist.github.com/ekibun/67812f5e5f911c6870ea4afab1cbc575\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://gist.github.com/ekibun/67812f5e5f911c6870ea4afab1cbc575</a>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/45/62/456208.jpg","floor":"#8-1","id":"1458723","time":"2019-7-1 11:12","userId":"sukaretto","userName":"czy0729","userSign":"","message":"吼啊"},{"avatar":"//lain.bgm.tv/pic/user/m/000/40/82/408230.jpg","floor":"#8-2","id":"1461914","time":"2019-7-7 02:52","userId":"408230","userName":"astrea","userSign":"","message":"参考了一下，谢谢～（让用户浏览器登录然后拿cookie和token的方式问题太多了，最终还是决定转用户名密码登陆）"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#8-3","id":"1461932","time":"2019-7-7 07:31","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">astrea</span> 说: 参考了一下，谢谢～（让用户浏览器登陆然后拿cookie和token的方式问题太多了，最终还是决定转用户名密码登陆）</q></div>但是这样没做的页面就能带cookie访问了hhhh<br>单纯拿cookie算token就好了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/40/82/408230.jpg","floor":"#8-4","id":"1461939","time":"2019-7-7 08:12","userId":"408230","userName":"astrea","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">ekibun</span> 说: 但是这样没做的页面就能带cookie访问了hhhh<br>单纯拿cookie算token就好了</q></div><span style=\"text-decoration: line-through;\">我担心带cookie访问会导致有人不小心点到退出登录所以就没做带cookie访问，oauth相关的几个功能懒得再爬网页改了所以还是暂时同时维护两套吧</span><br>我遇到的几个问题是：<br>1. 验证码输入错误之后的体验非常糟糕（验证码偶尔不自动刷新需要手动点击刷新，输错验证码再退回需要重新输密码），把验证码拿回来再让用户输可以有更好的掌控权<br>2. 目前是采取oauth授权同时从浏览器拿chii_auth的方式进行登录，然后不知道是不是因为不同的机型自带浏览器不同的原因，有时候就算用户登录了也拿不到chii_auth，或者第一次拿不到再来一次就可以了<br>3. oauth登录界面如果加载比较慢这时快速点击几下登录会被转到首页而不是oauth授权界面，导致后续处理变得非常麻烦<br>4. 因为登录界面要加载网页卡太久所以没过审<br>不过直接输用户名密码应该会有人有所顾及不愿意输吧..."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#9","id":"1458780","time":"2019-7-1 12:54","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"(プリキュアなりたい)","message":"有大佬试试graphQL吗（","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/31/84/318489.jpg","floor":"#9-1","id":"1458781","time":"2019-7-1 13:10","userId":"318489","userName":"魔法使","userSign":"","message":"这看上去也太强了吧"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/32/23/322380.jpg","floor":"#10","id":"1458859","time":"2019-7-1 18:05","userId":"322380","userName":"此间的少年x","userSign":"","message":"有点厉害，后排支持","sub":[]}]
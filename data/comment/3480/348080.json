[{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#2","id":"1393307","time":"2018-10-28 09:39","userId":"liaune","userName":"君寻","userSign":"(学会欣赏不完美)","message":"KikoPlay 0.2.2_x64<br>搜索框无法输入中文<br>媒体库无法搜索","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#2-1","id":"1393324","time":"2018-10-28 11:12","userId":"192880","userName":"Kikyou","userSign":"","message":"试试默认输入法？迄今为止还没有出现过这种情况<br>媒体库是记录你看过的动画的，只有关联了弹幕池的动画才会被加入媒体库中"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/33/13364.jpg","floor":"#3","id":"1393326","time":"2018-10-28 11:31","userId":"bonegumi","userName":"咕咪","userSign":"(Ruby ❤ Sapphire)","message":"有没有大佬搞一个linux下的，或者网页版的类似弹弹的弹幕播放器（应该需要后台代理爬取各网站的弹幕）？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#3-1","id":"1393337","time":"2018-10-28 11:43","userId":"192880","userName":"Kikyou","userSign":"","message":"其实，你如果愿意的话，也可以试试把KikoPlay移植到linux上。。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#3-2","id":"1438718","time":"2019-4-28 23:25","userId":"192880","userName":"Kikyou","userSign":"","message":"现在可以了！"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/30/77/307706.jpg","floor":"#4","id":"1394141","time":"2018-11-1 17:03","userId":"dg88332752","userName":"Xing²H³","userSign":"(佛系观众，佛系打分)","message":"可以外挂滤镜吗","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#4-1","id":"1394145","time":"2018-11-1 17:33","userId":"192880","userName":"Kikyou","userSign":"","message":"不行，这是基于libmpv的播放器，你可以先了解一下mpv播放器"}]},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5","id":"1396955","time":"2018-11-14 13:32","userId":"444906","userName":"helloWorld","userSign":"","message":"我试了一下0.3与0.2版本，一个视频都播放不了是怎么回事？<br>第一次播放视频时，视频完全是蓝屏的，但声音正常。mpv日志如下：<br><div class=\"codeHighlight\"><pre><br>[cplayer]v: Waiting for scripts...<br>[ytdl_hook]v: script-opts/ytdl_hook.conf not found.<br>[ytdl_hook]v: lua-settings/ytdl_hook.conf not found.<br>[stats]v: script-opts/stats.conf not found.<br>[stats]v: lua-settings/stats.conf not found.<br>[cplayer]v: Done loading scripts.<br>[cplayer]v: Set property: speed=1.000000 -> 1<br>[cplayer]v: Set property: ao-volume=30 -> -2<br>[libmpv_render]v: GL_VERSION='4.4.13084 Compatibility Profile Context 14.301.1001.0'<br>[libmpv_render]v: Detected desktop OpenGL 4.4.<br>[libmpv_render]v: GL_VENDOR='ATI Technologies Inc.'<br>[libmpv_render]v: GL_RENDERER='AMD Radeon HD 7640G + HD 7500M/7600M Dual Graphics'<br>[libmpv_render]v: GL_SHADING_LANGUAGE_VERSION='4.40'<br>[libmpv_render]v: Loaded extension WGL_EXT_swap_control.<br>[libmpv_render]v: GL_*_swap_control extension missing.<br>[libmpv_render]v: Testing FBO format rgba16f<br>[libmpv_render]v: Using FBO format rgba16f.<br>[libmpv_render]v: No advanced processing required. Enabling dumb mode.<br>[libmpv_render]v: Loading hwdec driver 'd3d11-egl'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'd3d11-egl-rgb'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'dxva2-egl'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'd3d11va'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'dxva2-dxgi'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'dxva2-dxinterop'<br>[libmpv_render]v: Loading failed.<br>[libmpv_render]v: Loading hwdec driver 'cuda-nvdec'<br>[libmpv_render/cuda-nvdec]v: Failed to load CUDA symbols<br>[libmpv_render]v: Loading failed.<br>[cplayer]info: Playing: D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[cplayer]v: Running hook: ytdl_hook/on_load<br>[ytdl_hook]v: ytdl:// hook<br>[ytdl_hook]v: not a ytdl:// url<br>[ifo]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[ifo_dvdnav]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[bdmv/bluray]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[file]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[demux]v: Trying demuxers for level=normal.<br>[lavf]v: Found 'mov,mp4,m4a,3gp,3g2,mj2' at score=100 size=2048.<br>[demux]v: Detected file format: mov,mp4,m4a,3gp,3g2,mj2 (libavformat)<br>[cplayer]v: Opening done: D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[find_files]v: Loading external files in D:/anime/<br>[cplayer]v: Running hook: ytdl_hook/on_preloaded<br>[lavf]v: select track 0<br>[lavf]v: select track 1<br>[cplayer]info:  (+) Video --vid=1 (*) (h264 1920x1080 23.976fps)<br>[cplayer]info:  (+) Audio --aid=1 (*) (aac 2ch 44100Hz)<br>[vd]v: Container reported FPS: 23.976025<br>[vd]v: Codec list:<br>[vd]v:     h264 - H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10<br>[vd]v:     h264_cuvid (h264) - Nvidia CUVID H264 decoder<br>[vd]v: Opening decoder h264<br>[vd]v: Looking at hwdec h264-d3d11va...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-dxva2...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-nvdec...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-dxva2-copy...<br>[vd]v: Trying hardware decoding via h264-dxva2-copy.<br>[vd]v: Selected codec: h264 (H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10)<br>[vf]v: User filter list:<br>[vf]v:   lavfi (lavfi.00)<br>[ad]v: Codec list:<br>[ad]v:     aac - AAC (Advanced Audio Coding)<br>[ad]v:     aac_fixed (aac) - AAC (Advanced Audio Coding)<br>[ad]v: Opening decoder aac<br>[ad]v: Requesting 1 threads for decoding.<br>[ad]v: Selected codec: aac (AAC (Advanced Audio Coding))<br>[af]v: User filter list:<br>[af]v:   (empty)<br>[cplayer]v: Starting playback...<br>[vd]v: Pixel formats supported by decoder: cuda dxva2_vld d3d11va_vld d3d11 yuv420p<br>[vd]v: Codec profile: High (0x64)<br>[vd]v: Requesting pixfmt 'dxva2_vld' from decoder.<br>[vd]info: Using hardware decoding (dxva2-copy).<br>[vd]v: Decoder format: 1920x1080 nv12 auto/auto/auto/auto/auto CL=mpeg2/4/h264 (auto 0.000000/0.000000/0.000000)<br>[vf]v: [in] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [userdeint] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [userdeint] (disabled)<br>[vf]v: [lavfi] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[af]v: [in] 44100Hz stereo 2ch floatp<br>[af]v: [userspeed] 44100Hz stereo 2ch floatp<br>[af]v: [userspeed] (disabled)<br>[af]v: [convert] 44100Hz stereo 2ch floatp<br>[vf]v: [autorotate] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [autorotate] (disabled)<br>[vf]v: [convert] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [convert] (disabled)<br>[vf]v: [out] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[cplayer]info: VO: [libmpv] 1920x1080 nv12<br>[cplayer]v: VO: Description: render API for libmpv<br>[vo/opengl-cb]v: reconfig to 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vo/opengl-cb]v: mpv_render_context_render() not being called or stuck.<br>[cplayer]v: first video frame after restart shown<br>[ao]v: Trying audio driver 'wasapi'<br>[ao/wasapi]v: requested format: 44100 Hz, stereo channels, floatp<br>[ao/wasapi]v: No device specified. Selecting default.<br>[ao/wasapi]v: Selecting device '{0a11b5f6-f1a7-4629-ab6a-b47869309465}' (扬声器 (Conexant SmartAudio HD))<br>[ao/wasapi]v: Monitoring changes in device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Trying stereo float (32/32 bits) @ 44100hz (shared) -> ok<br>[ao/wasapi]v: Closest match is stereo float (32/32 bits) @ 48000hz<br>[ao/wasapi]v: Accepted as stereo float @ 48000hz -> stereo float (32/32 bits) @ 48000hz (shared)<br>[ao/wasapi]v: Device period: 10 ms<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: Buffer frame count: 2400 (50 ms)<br>[ao/wasapi]v: IAudioClock::GetFrequency gave a frequency of 384000.<br>[ao/wasapi]v: device buffer: 2400 samples.<br>[ao/wasapi]v: using soft-buffer of 9600 samples.<br>[cplayer]info: AO: [wasapi] 48000Hz stereo 2ch float<br>[cplayer]v: AO: Description: Windows WASAPI audio output (event mode)<br>[vo/opengl-cb]v: mpv_render_context_render() not being called or stuck.<br>[autoconvert]v: inserting resampler<br>[swresample]v: format change, reinitializing resampler<br>[swresample]v: 44100Hz stereo floatp -> 48000Hz stereo float<br>[af]v: [out] 48000Hz stereo 2ch float<br>[cplayer]v: Set property: pause=false -> 1<br>[cplayer]v: Set property: ao-volume=30 -> 1<br>[cplayer]v: Set property: ao-mute=false -> 1<br>[cplayer]v: starting audio playback<br>[cplayer]v: playback restart complete<br>[libmpv_render]v: Window size: 1107x645<br>[libmpv_render]v: Video source: 1920x1080 (1:1)<br>[libmpv_render]v: Video display: (0, 0) 1920x1080 -> (0, 11) 1107x622<br>[libmpv_render]v: Video scale: 0.576562/0.575926<br>[libmpv_render]v: OSD borders: l=0 t=11 r=0 b=12<br>[libmpv_render]v: Video borders: l=0 t=11 r=0 b=12<br>[libmpv_render]v: Texture for plane 0: 1920x1080<br>[libmpv_render]v: Texture for plane 1: 960x540<br>[libmpv_render]v: Testing FBO format rgba16f<br>[libmpv_render]v: Using FBO format rgba16f.<br>[libmpv_render]v: No advanced processing required. Enabling dumb mode.<br>[libmpv_render]error: fragment shader source:<br>[libmpv_render]error: [  1] #version 440<br>[libmpv_render]error: [  2] #define tex1D texture<br>[libmpv_render]error: [  3] #define tex3D texture<br>[libmpv_render]error: [  4] #define LUT_POS(x, lut_size) mix(0.5 / (lut_size), 1.0 - 0.5 / (lut_size), (x))<br>[libmpv_render]error: [  5] out vec4 out_color;<br>[libmpv_render]error: [  6] in vec2 texcoord0;<br>[libmpv_render]error: [  7] in vec2 texcoord1;<br>[libmpv_render]error: [  8] layout(std140, binding=0) uniform UBO {<br>[libmpv_render]error: [  9] layout(offset=0) mat3 colormatrix;<br>[libmpv_render]error: [ 10] layout(offset=48) vec3 colormatrix_c;<br>[libmpv_render]error: [ 11] layout(offset=64) vec3 src_luma;<br>[libmpv_render]error: [ 12] layout(offset=80) vec3 dst_luma;<br>[libmpv_render]error: [ 13] layout(offset=96) vec2 texture_size0;<br>[libmpv_render]error: [ 14] layout(offset=112) mat2 texture_rot0;<br>[libmpv_render]error: [ 15] layout(offset=144) vec2 texture_off0;<br>[libmpv_render]error: [ 16] layout(offset=152) vec2 pixel_size0;<br>[libmpv_render]error: [ 17] layout(offset=160) vec2 texture_size1;<br>[libmpv_render]error: [ 18] layout(offset=176) mat2 texture_rot1;<br>[libmpv_render]error: [ 19] layout(offset=208) vec2 texture_off1;<br>[libmpv_render]error: [ 20] layout(offset=216) vec2 pixel_size1;<br>[libmpv_render]error: [ 21] };<br>[libmpv_render]error: [ 22] uniform sampler2D texture0;<br>[libmpv_render]error: [ 23] uniform sampler2D texture1;<br>[libmpv_render]error: [ 24] void main() {<br>[libmpv_render]error: [ 25] vec4 color = vec4(0.0, 0.0, 0.0, 1.0);<br>[libmpv_render]error: [ 26] color.r = 1.000000 * vec4(texture(texture0, texcoord0)).r;<br>[libmpv_render]error: [ 27] color.gb = 1.000000 * vec4(texture(texture1, texcoord1)).rg;<br>[libmpv_render]error: [ 28] color = color.rgbr;<br>[libmpv_render]error: [ 29] color.rgb = mat3(colormatrix) * color.rgb + colormatrix_c;<br>[libmpv_render]error: [ 30] color.a = 1.0;<br>[libmpv_render]error: [ 31] // color mapping<br>[libmpv_render]error: [ 32] color.rgb *= vec3(1.000000);<br>[libmpv_render]error: [ 33] color.rgb *= vec3(1.000000);<br>[libmpv_render]error: [ 34] out_color = color;<br>[libmpv_render]error: [ 35] }<br>[libmpv_render]error: fragment shader compile log (status=0):<br>[libmpv_render]error: Fragment shader failed to compile with the following errors:<br>[libmpv_render]error: ERROR: 0:29: error(#444) The specified offset of a UBO or SSBO member causes it to overlap another member.<br>[libmpv_render]error: ERROR: error(#273) 1 compilation errors.  No code generated<br>[libmpv_render]error:<br>[libmpv_render]error:<br>[libmpv_render]error: shader link log (status=0): Fragment shader(s) were not successfully compiled before glLinkProgram() was called.  Link failed.<br>[libmpv_render]error:<br>[vo/opengl-cb]v: mpv_render_report_swap() not being called.<br>[cplayer]v: Set property: pause=true -> 1<br></pre></div><br><br><br>把视频停止后，重新打开视频，这时候视频就变成黑屏了，但声音正常。另外经测试，此视频如果外挂了字幕的话，此时字幕也能正常显示（上面第一次打开时完全蓝屏，没有字幕）。mpv日志如下：<br><div class=\"codeHighlight\"><pre><br>[cplayer]info: Playing: D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[cplayer]v: Running hook: ytdl_hook/on_load<br>[ytdl_hook]v: ytdl:// hook<br>[ytdl_hook]v: not a ytdl:// url<br>[ifo]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[ifo_dvdnav]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[bdmv/bluray]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[file]v: Opening D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[demux]v: Trying demuxers for level=normal.<br>[lavf]v: Found 'mov,mp4,m4a,3gp,3g2,mj2' at score=100 size=2048.<br>[demux]v: Detected file format: mov,mp4,m4a,3gp,3g2,mj2 (libavformat)<br>[cplayer]v: Opening done: D:/anime/[Toaru Majutsu no Index S3][06][GB_JP][1080P].mp4<br>[find_files]v: Loading external files in D:/anime/<br>[cplayer]v: Running hook: ytdl_hook/on_preloaded<br>[lavf]v: select track 0<br>[lavf]v: select track 1<br>[cplayer]info:  (+) Video --vid=1 (*) (h264 1920x1080 23.976fps)<br>[cplayer]info:  (+) Audio --aid=1 (*) (aac 2ch 44100Hz)<br>[vd]v: Container reported FPS: 23.976025<br>[vd]v: Codec list:<br>[vd]v:     h264 - H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10<br>[vd]v:     h264_cuvid (h264) - Nvidia CUVID H264 decoder<br>[vd]v: Opening decoder h264<br>[vd]v: Looking at hwdec h264-d3d11va...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-dxva2...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-nvdec...<br>[vd]v: Could not create device.<br>[vd]v: Looking at hwdec h264-dxva2-copy...<br>[vd]v: Trying hardware decoding via h264-dxva2-copy.<br>[vd]v: Selected codec: h264 (H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10)<br>[vf]v: User filter list:<br>[vf]v:   lavfi (lavfi.00)<br>[ad]v: Codec list:<br>[ad]v:     aac - AAC (Advanced Audio Coding)<br>[ad]v:     aac_fixed (aac) - AAC (Advanced Audio Coding)<br>[ad]v: Opening decoder aac<br>[ad]v: Requesting 1 threads for decoding.<br>[ad]v: Selected codec: aac (AAC (Advanced Audio Coding))<br>[af]v: User filter list:<br>[af]v:   (empty)<br>[cplayer]v: Starting playback...<br>[cplayer]v: Set property: pause=false -> 1<br>[vd]v: Pixel formats supported by decoder: cuda dxva2_vld d3d11va_vld d3d11 yuv420p<br>[vd]v: Codec profile: High (0x64)<br>[vd]v: Requesting pixfmt 'dxva2_vld' from decoder.<br>[vd]info: Using hardware decoding (dxva2-copy).<br>[vd]v: Decoder format: 1920x1080 nv12 auto/auto/auto/auto/auto CL=mpeg2/4/h264 (auto 0.000000/0.000000/0.000000)<br>[vf]v: [in] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [userdeint] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [userdeint] (disabled)<br>[vf]v: [lavfi] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [autorotate] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [autorotate] (disabled)<br>[vf]v: [convert] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vf]v: [convert] (disabled)<br>[vf]v: [out] 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[cplayer]info: VO: [libmpv] 1920x1080 nv12<br>[cplayer]v: VO: Description: render API for libmpv<br>[vo/opengl-cb]v: reconfig to 1920x1080 nv12 bt.709/bt.709/bt.1886/limited/display SP=1.000000 CL=mpeg2/4/h264<br>[vo/opengl-cb]v: mpv_render_context_render() not being called or stuck.<br>[cplayer]v: first video frame after restart shown<br>[af]v: [in] 44100Hz stereo 2ch floatp<br>[af]v: [userspeed] 44100Hz stereo 2ch floatp<br>[af]v: [userspeed] (disabled)<br>[af]v: [convert] 44100Hz stereo 2ch floatp<br>[cplayer]v: Set property: ao-volume=30 -> -2<br>[ao]v: Trying audio driver 'wasapi'<br>[ao/wasapi]v: requested format: 44100 Hz, stereo channels, floatp<br>[ao/wasapi]v: No device specified. Selecting default.<br>[ao/wasapi]v: Selecting device '{0a11b5f6-f1a7-4629-ab6a-b47869309465}' (扬声器 (Conexant SmartAudio HD))<br>[ao/wasapi]v: Monitoring changes in device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Trying stereo float (32/32 bits) @ 44100hz (shared) -> ok<br>[ao/wasapi]v: Closest match is stereo float (32/32 bits) @ 48000hz<br>[ao/wasapi]v: Accepted as stereo float @ 48000hz -> stereo float (32/32 bits) @ 48000hz (shared)<br>[ao/wasapi]v: Device period: 10 ms<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: OnPropertyValueChanged triggered on device {0.0.0.00000000}.{0a11b5f6-f1a7-4629-ab6a-b47869309465}<br>[ao/wasapi]v: Changed property: {d4ef3098-c967-4a4e-b219-acb6da1dc373},4<br>[ao/wasapi]v: Buffer frame count: 2400 (50 ms)<br>[ao/wasapi]v: IAudioClock::GetFrequency gave a frequency of 384000.<br>[ao/wasapi]v: device buffer: 2400 samples.<br>[ao/wasapi]v: using soft-buffer of 9600 samples.<br>[cplayer]info: AO: [wasapi] 48000Hz stereo 2ch float<br>[cplayer]v: AO: Description: Windows WASAPI audio output (event mode)<br>[vo/opengl-cb]v: mpv_render_context_render() not being called or stuck.<br>[autoconvert]v: inserting resampler<br>[swresample]v: format change, reinitializing resampler<br>[swresample]v: 44100Hz stereo floatp -> 48000Hz stereo float<br>[af]v: [out] 48000Hz stereo 2ch float<br>[cplayer]v: Set property: ao-mute=false -> 1<br>[cplayer]v: starting audio playback<br>[cplayer]v: playback restart complete<br>[libmpv_render]v: Window size: 1107x645<br>[libmpv_render]v: Video source: 1920x1080 (1:1)<br>[libmpv_render]v: Video display: (0, 0) 1920x1080 -> (0, 11) 1107x622<br>[libmpv_render]v: Video scale: 0.576562/0.575926<br>[libmpv_render]v: OSD borders: l=0 t=11 r=0 b=12<br>[libmpv_render]v: Video borders: l=0 t=11 r=0 b=12<br>[libmpv_render]v: Texture for plane 0: 1920x1080<br>[libmpv_render]v: Texture for plane 1: 960x540<br>[libmpv_render]v: Testing FBO format rgba16f<br>[libmpv_render]v: Using FBO format rgba16f.<br>[libmpv_render]v: No advanced processing required. Enabling dumb mode.<br>[cplayer]v: Set property: pause=true -> 1<br></pre></div><br><br>我看了一下，视频显示不了的原因应该是“mpv_render_context_render() not being called or stuck.”造成的，按照官方解释，可能是你的render线程wait一个不安全的libmpv API，造成了死锁<br>至于第一次视频打开时蓝屏的问题我就没怎么看了，把视频停止再重新打开蓝屏就解决了，预计可能是窗口resize时出现的问题","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-1","id":"1396958","time":"2018-11-14 14:02","userId":"444906","userName":"helloWorld","userSign":"","message":"我的系统是win7系统。播放器的mpv配置是默认配置，而且我也试过改配置，但无论怎么改，都是一样的情况。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-2","id":"1396980","time":"2018-11-14 16:09","userId":"192880","userName":"Kikyou","userSign":"","message":"从日志内容看，应该是libmpv编译shader时失败导致视频画面没有输出<br>其他视频也是这样吗？"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-3","id":"1396985","time":"2018-11-14 16:36","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: 从日志内容看，应该是libmpv编译shader时失败导致视频画面没有输出<br>其他视频也是这样吗？</q></div>嗯，是的，我试过了所有视频都是这样。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-4","id":"1396986","time":"2018-11-14 16:42","userId":"444906","userName":"helloWorld","userSign":"","message":"libmpv编译shader时失败，应该只是导致视频蓝屏的原因。把视频停止后再重新打开，就没蓝屏了，而是黑屏，可以显示字幕与弹幕了了。因此我才推测是窗口resize时造成的，resize时某些值更新不及时，导致计算出来的结果非法。<br>视频画面没有输出与这个的关系应该不大"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-5","id":"1396987","time":"2018-11-14 16:48","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: libmpv编译shader时失败，应该只是导致视频蓝屏的原因。把视频停止后再重新打开，就没蓝屏了，而是黑屏，可以显示字幕与弹幕了了。因此我才推测是窗口resize时造成的，resize时某些值更新不...</q></div>那你试试在右上角设置缩放为 固定 ，这样在打开视频时就不会改变窗口大小了<br>（但我觉得大概不是问题的原因）"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-6","id":"1396988","time":"2018-11-14 16:48","userId":"444906","userName":"helloWorld","userSign":"","message":"不过这也只是我个人的猜测而已"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-7","id":"1396991","time":"2018-11-14 16:55","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: 那你试试在右上角设置缩放为 固定 ，这样在打开视频时就不会改变窗口大小了<br>（但我觉得大概不是问题的原因）</q></div>好吧，我刚刚试了固定为最大化，不过依旧第一次打开时依旧还是蓝屏，mpv日志也是一模一样。看来跟窗口resize无关"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-8","id":"1397002","time":"2018-11-14 17:47","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: 好吧，我刚刚试了固定为最大化，不过依旧第一次打开时依旧还是蓝屏，mpv日志也是一模一样。看来跟窗口resize无关</q></div>mpv能在你的机器上正常播放吗？<br>愿意测试一下吗？<a href=\"https://pan.baidu.com/s/1zREG21-_uDW2BtIxel9_ew\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">测试</a> 这是两个简单的调用libmpv的播放器，解压后放在KikoPlay.exe目录下，可以试试能不能用它们播放视频"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-9","id":"1397007","time":"2018-11-14 18:34","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: mpv能在你的机器上正常播放吗？<br>愿意测试一下吗？测试 这是两个简单的调用libmpv的播放器，解压后放在KikoPlay.exe目录下，可以试试能不能用它们播放视频</q></div>我刚刚试了一下，你写的那两个小程序可以正常播放视频，没问题。我这边也是一直用mpv播放视频的"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-10","id":"1397020","time":"2018-11-14 19:11","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: 我刚刚试了一下，你写的那两个小程序可以正常播放视频，没问题。我这边也是一直用mpv播放视频的</q></div>确实是个奇怪的问题，因为opengl测试程序的绘制方法和Kikoplay是一样的<br>那，，要不试一试最初的0.1版本？"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-11","id":"1397050","time":"2018-11-14 22:04","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: 确实是个奇怪的问题，因为opengl测试程序的绘制方法和Kikoplay是一样的<br>那，，要不试一试最初的0.1版本？</q></div>试了一下最初的0.1版本，还是一样的情况，视频显示不出来。。。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-12","id":"1397053","time":"2018-11-14 22:22","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: 试了一下最初的0.1版本，还是一样的情况，视频显示不出来。。。</q></div><img src=\"/img/smiles/bgm/16.png\" smileid=\"32\" alt=\"(bgm16)\"><img src=\"/img/smiles/bgm/16.png\" smileid=\"32\" alt=\"(bgm16)\"><img src=\"/img/smiles/bgm/16.png\" smileid=\"32\" alt=\"(bgm16)\"><img src=\"/img/smiles/bgm/16.png\" smileid=\"32\" alt=\"(bgm16)\"><br>暂时找不到原因了"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-13","id":"1402998","time":"2018-12-7 23:17","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: <br>暂时找不到原因了</q></div>我这两天下了你的源代码看了一下，发现是参数设置问题造成的，汗-_-||<br>mpv中的hwdec参数，目前仍在试验当中，选auto的话，在不同的机器上可能会有各种各样的奇妙的bug出现，因此最好将其默认置为关闭。如果有需要的话，再根据自己的机器自行设置就是了。。。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-14","id":"1403000","time":"2018-12-7 23:24","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: <br>暂时找不到原因了</q></div>你的代码中默认置了hwdec为auto，难怪我之前使用你的程序时，屏蔽了mpv参数也没任何反应。需要手动将hwdec设置为no才行，或者是改源代码。。。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-15","id":"1403294","time":"2018-12-9 16:27","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: 你的代码中默认置了hwdec为auto，难怪我之前使用你的程序时，屏蔽了mpv参数也没任何反应。需要手动将hwdec设置为no才行，或者是改源代码。。。</q></div>(⊙o⊙)…改了之后就没问题了吗？尝试编译了吗？"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-16","id":"1403480","time":"2018-12-10 17:52","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: (⊙o⊙)…改了之后就没问题了吗？尝试编译了吗？</q></div>嗯，改了之后就没问题了。<br>我查看了一下问题发生的原因，是因为打开了hwdec后，hwdec使用的那块显存被另一个模块给踩了，所以mpv日志里才会提示Fragment shader编译失败。。。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-17","id":"1403482","time":"2018-12-10 18:03","userId":"444906","userName":"helloWorld","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: (⊙o⊙)…改了之后就没问题了吗？尝试编译了吗？</q></div>我编译的是0.1版本，没有编译0.3版本。不过这几个版本在这个bug的表现上是一致的。<br>我在0.3版本的程序中强制设置mpv参数\"hwdec=no\"，问题也一样解决了。"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#5-18","id":"1403489","time":"2018-12-10 18:37","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">helloWorld</span> 说: 我编译的是0.1版本，没有编译0.3版本。不过这几个版本在这个bug的表现上是一致的。<br>我在0.3版本的程序中强制设置mpv参数\"hwdec=no\"，问题也一样解决了。</q></div>哦哦，推荐始终使用最新版本"}]},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#6","id":"1437677","time":"2019-4-24 21:10","userId":"469939","userName":"Angel〆汐","userSign":"","message":"怎么运行? 提示找不到Qt5Concurrent.dll","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#6-1","id":"1437691","time":"2019-4-24 21:56","userId":"192880","userName":"Kikyou","userSign":"","message":"发现了这个问题，已经添加对应库，百度盘已更新"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/22/45/224517.jpg","floor":"#7","id":"1493995","time":"2019-9-16 21:05","userId":"venn","userName":"MononeV","userSign":"","message":"默認跳轉好像是關鍵幀快速查找，有辦法用精確查找嗎？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#7-1","id":"1494502","time":"2019-9-17 16:02","userId":"192880","userName":"Kikyou","userSign":"","message":"← → 前后跳转n秒，可设置<br>ctrl+←→ 逐帧向前，向后"},{"avatar":"//lain.bgm.tv/pic/user/m/000/22/45/224517.jpg","floor":"#7-2","id":"1494574","time":"2019-9-17 17:41","userId":"venn","userName":"MononeV","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kikyou</span> 说: ← → 前后跳转n秒，可设置<br>ctrl+←→ 逐帧向前，向后</q></div>我說的是fast seek和exact seek"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#7-3","id":"1494606","time":"2019-9-17 18:06","userId":"192880","userName":"Kikyou","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">MononeV</span> 说: 我說的是fast seek和exact seek</q></div>这个没有"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/49/62/496229.jpg","floor":"#8","id":"1494580","time":"2019-9-17 17:49","userId":"496229","userName":"凛凛233","userSign":"","message":"楼主是开发者吗，我这里经常出问题啊<br>虽然声音还正常，但是画面停住不动了，必须重启<br><span style=\"background-color:#555;color:#555;border:1px solid #555;\">其实我想加群的，但是很长时间没用QQ了，楼主群里人多吗</span>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#8-1","id":"1494609","time":"2019-9-17 18:06","userId":"192880","userName":"Kikyou","userSign":"","message":"设置mpv参数hwdec为no"}]}]
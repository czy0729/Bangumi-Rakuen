[{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/271.jpg","floor":"#2","id":"1211426","time":"2017-2-7 23:10","userId":"senken","userName":"( ◕‿‿◕ )","userSign":"(この道行きの最後が天国か？そこらじゃあないとしても.. ...)","message":"<a href=\"http://bgm.tv/m/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://bgm.tv/m/</a><br>用这个页面不好吗？<img src=\"/img/smiles/tv/01.gif\" smileid=\"40\" alt=\"(bgm24)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#2-1","id":"1211427","time":"2017-2-7 23:18","userId":"198933","userName":"上井葉心","userSign":"","message":"看了下，感觉层级还是太复杂了，往里套可能会挺麻烦<br>然后其实有件事要说下，我对html基本属于一窍不通……比如那个页面背景色怎么改我都不知道orz"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/17/80/178081.jpg","floor":"#3","id":"1211428","time":"2017-2-7 23:19","userId":"ershiwo","userName":"板砖加身","userSign":"(大破的那珂酱好萌！)","message":"ls+1<br>抄点 css 放进去。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/95/199502.jpg","floor":"#4","id":"1211430","time":"2017-2-7 23:30","userId":"wjself","userName":"灰灰","userSign":"(もうぅ！プラチナむかつく！)","message":"orz用webview麼…","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#4-1","id":"1211439","time":"2017-2-8 00:43","userId":"198933","userName":"上井葉心","userSign":"","message":"不要看不起webview！很多软件都是用的webview大家都没感觉罢了。比如知乎，比如豆瓣。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/95/199502.jpg","floor":"#4-2","id":"1211485","time":"2017-2-8 16:30","userId":"wjself","userName":"灰灰","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 不要看不起webview！很多软件都是用的webview大家都没感觉罢了。比如知乎，比如豆瓣。</q></div>知乎我知道…豆瓣沒用過…<br>知乎內層文章/答案詳情頁是用webview倒是知道啦…<br>只是要用webview的話…<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>看了下樓下…我還是傾向於使用樓上的意見(我是屬於那種看頭像認人的，所以從來不知道酷安那邊聊天的是誰…<br>我在做wp主題的評論模塊的時候也是一定要加頭像的("},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#4-3","id":"1211497","time":"2017-2-8 16:59","userId":"198933","userName":"上井葉心","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">灰灰</span> 说: 知乎我知道…豆瓣沒用過…<br>知乎內層文章/答案詳情頁是用webview倒是知道啦…<br>只是要用webview的話…<br>看了下樓下…我還是傾向於使用樓上的意見(我是屬於那種看頭像認人的，所以從來不知道酷安那邊...</q></div>嘛……没办法，主要是一个楼层内回复的内容，有超链接，有图片，有h1 h2 h3 颜色也不一样，还有引用，有bgm专用的各种表情，各种各样的格式，在没有官方api支持的情况下，不把内容整个挖下来然后用webview来展示的话，等我做完小组部分估计就是猴年马月了。<br><br>主要是现在我希望尽快做完小组然后，就可以开始动工角色页面了<br>之前一直没去动角色页就是因为角色页下有评论串，角色页的评论串只有解决了帖子之后，才能把角色页搞好<br>然后评论串解决了，动画的每集讨论的页面也可以马上做出来了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#4-4","id":"1211509","time":"2017-2-8 17:40","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 不要看不起webview！很多软件都是用的webview大家都没感觉罢了。比如知乎，比如豆瓣。</q></div>还有App Store"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5","id":"1211451","time":"2017-2-8 03:09","userId":"wioanfe","userName":"Kayano","userSign":"(保持自我怀疑，多思考)","message":"我来吧，给个布局界面给我，我弄弄看<br>另外是写个模板给你套还是怎样，是否有和宿主环境的交互需求？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#5-1","id":"1211472","time":"2017-2-8 12:35","userId":"198933","userName":"上井葉心","userSign":"","message":"哦哦哦哦哦，多谢大佬帮助！<br>外观界面的话，最简单的就行，目前是看中了酷安回复界面那感觉，目前还在纠结楼中楼是不是该像bgm一样也要显示出头像<br><a href=\"http://img.kisaragi.bid/image.php?di=CGMR\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://img.kisaragi.bid/image.php?di=CGMR</a><br><br>目前是只需要写个模板来套就行了。直接把正文内容塞进去，回复内容塞进去就成。<br>对了，回复和正文的部分最好能单独拿出来，这样生成网页的时候可以很方便。<br><br><br>至于和宿主的交互，因为目前还没实现登陆功能所以需要交互的地方不是很多也就很少部分<br>考虑到性能（楼层太多会出事），后台需要动态生成分页的网页。<br>下一页的超链接是指向：bgmviewer://next.page，webview会拦截这个点击请求，送给后台然后生成下一页的网页<br>上一页指向bgmviewer://previous.page<br>对了，其实还有另外几个想法，就是为了获得更好用户体验网页不采用分页形式，而是采用以下两种形式加载下一页：<br>1.点击下一页后在本页内动态加载下一页内容同时替换掉此页的内容<br>2. 或者，滚动到底自动补充下一页内容。<br>不过似乎两者都要用到javascript？ 嫌麻烦的话就算了www如果不嫌麻烦的话，js和宿主的交互比如获取下一页信息的方法，你可以暂时自己取个名字写在那，我到时候在java上完成这个方法，比如javaBgmObg.getNextPage()这样<br><br><br>然后考虑到今后需要添加回复按钮之类的，回复部分的onClick的js脚本最终也是调用和上面一样的接口。具体名字还没定，也是那你高兴的话随便取，不过要传入回复的楼层的层数，比如主楼第几层，楼中楼第几层这样"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5-2","id":"1211480","time":"2017-2-8 14:39","userId":"wioanfe","userName":"Kayano","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 哦哦哦哦哦，多谢大佬帮助！<br>外观界面的话，最简单的就行，目前是看中了酷安回复界面那感觉，目前还在纠结楼中楼是不是该像bgm一样也要显示出头像<br>http://img.kisaragi.bid/image...</q></div>我是要你现在的界面图<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">，不知道你顶部和底部的内容很难弄，配色字体大小都要参考你现有的<br>分页的话，两种都弄就是了，又不复杂<br>等等，有点问题…<br>你转换DOM结构出来的数据结构是怎样的？<br>只是把作者信息、时间和内容分开，没做其他处理？"},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#5-3","id":"1211482","time":"2017-2-8 15:48","userId":"198933","userName":"上井葉心","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kayano</span> 说: 我是要你现在的界面图，不知道你顶部和底部的内容很难弄，配色字体大小都要参考你现有的<br>分页的话，两种都弄就是了，又不复杂<br>等等，有点问题…<br>你转换DOM结构出来的数据结构是怎样的？<br>只是把作者信息、时间...</q></div>原来如此orz<br><a href=\"http://img.kisaragi.bid/image.php?di=B22Q\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://img.kisaragi.bid/image.php?di=B22Q</a><br>目前暂时只是一个顶栏，有返回和搜索按钮<br>顶栏文字，如果从条目点进去，是条目名，如果是从小组点进去，就是小组名<br>顶栏的颜色的话，如果从条目内点进话题，顶栏会自动变色成条目的主题色<br>主题色就是下面这图不同条目颜色的不同。<br><a href=\"http://img.kisaragi.bid/image.php?di=TQYU\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://img.kisaragi.bid/image.php?di=TQYU</a><br>如果从小组点进去没传入主题色，主题色默认是0x575757灰色<br><br><br>底部内容的话暂时没东西好加，底栏是有设想的，不过那是留给回复功能的，一个额外的底栏，点进去可以添加回复。不过因为登陆功能得放到第二阶段，所以暂时还用不上<br><br>至于我拆解网页后的数据结构…………帖子的内容我是直接完整保留了html代码，然后处理掉了所有class之类的额外属性（这样可以直接把帖子内容html代码往框架里塞进去）<br>除此之外的作者，时间，回复在bgm的id，作者id之类的，都是提取成了java变量了<br><a href=\"http://img.kisaragi.bid/image.php?di=B1AZ\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://img.kisaragi.bid/image.php?di=B1AZ</a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5-4","id":"1211559","time":"2017-2-8 20:33","userId":"wioanfe","userName":"Kayano","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 原来如此orz<br>http://img.kisaragi.bid/image.php?di=B22Q<br>目前暂时只是一个顶栏，有返回和搜索按钮<br>顶栏文字，如果从条目点进去，是条目名，如果是从小组点进去，就...</q></div>这还有不同颜色的<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>我感觉我只能做个滚动加载列表和一个嵌套评论的DOM结构出来，然后你自己改<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#5-5","id":"1211600","time":"2017-2-8 23:01","userId":"198933","userName":"上井葉心","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kayano</span> 说: 这还有不同颜色的<br>我感觉我只能做个滚动加载列表和一个嵌套评论的DOM结构出来，然后你自己改</q></div>好吧，没事，有框架和大致不难看的外观就行了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#5-6","id":"1212385","time":"2017-2-11 14:53","userId":"198933","userName":"上井葉心","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kayano</span> 说: 这还有不同颜色的<br>我感觉我只能做个滚动加载列表和一个嵌套评论的DOM结构出来，然后你自己改</q></div>大佬，有下文了不，现在角色页面已经做好了，就差把讨论串的网页嵌进去了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5-7","id":"1212401","time":"2017-2-11 15:51","userId":"wioanfe","userName":"Kayano","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 大佬，有下文了不，现在角色页面已经做好了，就差把讨论串的网页嵌进去了</q></div>平时要上班呢，这两天做<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5-8","id":"1212769","time":"2017-2-13 01:56","userId":"wioanfe","userName":"Kayano","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: 大佬，有下文了不，现在角色页面已经做好了，就差把讨论串的网页嵌进去了</q></div>差不多弄好了，但现在有个问题，如果内容过长是否需要展开/收起。<br>话说有QQ/Hangouts/Telegram么？<br>之后你套模板的时候，有问题也方便沟通。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#5-9","id":"1213632","time":"2017-2-15 18:29","userId":"198933","userName":"上井葉心","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Kayano</span> 说: 差不多弄好了，但现在有个问题，如果内容过长是否需要展开/收起。<br>话说有QQ/Hangouts/Telegram么？<br>之后你套模板的时候，有问题也方便沟通。</q></div>pm了qq号一直没有回信，估计是太忙了，不过还是来确认下大佬有没有看到"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/05/10550.jpg","floor":"#5-10","id":"1213637","time":"2017-2-15 18:44","userId":"wioanfe","userName":"Kayano","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">上井葉心</span> 说: pm了qq号一直没有回信，估计是太忙了，不过还是来确认下大佬有没有看到</q></div>我看到了，不过前两天没空<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>今晚回去加"}]}]
[{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#2","id":"1233583","time":"2017-5-5 18:02","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"(Death is the gateway to Eternity, my dear.)","message":"似乎是因为<div class=\"quote\"><q>引用和<br><div class=\"codeHighlight\"><pre>code</pre></div><br>嵌套不能？</q></div>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#2-1","id":"1233584","time":"2017-5-5 18:02","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"看来是可以嵌套的，不知道为啥引用了就扒了……"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#2-2","id":"1233586","time":"2017-5-5 18:04","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><div class=\"codeHighlight\"><pre>[mask]test[/mask]</pre></div></q></div>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#2-3","id":"1233588","time":"2017-5-5 18:06","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: <div class=\"codeHighlight\"><pre>[mask]test[/mask]</pre></div></q></div>然后一回复就黑了。。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#2-4","id":"1233591","time":"2017-5-5 18:08","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: </q></div>测试黑屏"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#2-5","id":"1233592","time":"2017-5-5 18:09","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: 然后一回复就黑了。。</q></div>看来quote会踢掉quote部分"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#2-6","id":"1233596","time":"2017-5-5 18:16","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: 看来quote会踢掉quote部分</q></div>#2-3我手动构造了一下你的回复，结果code里的mask并没有黑。。"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3","id":"1233597","time":"2017-5-5 18:17","userId":"261227","userName":"chitanda＠Lv2","userSign":"(Make Bangumi Great Again!)","message":"<div class=\"codeHighlight\"><pre>[mask]test11[/mask]</pre></div>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3-1","id":"1233599","time":"2017-5-5 18:17","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"codeHighlight\"><pre>[mask]test2[/mask]</pre></div>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3-2","id":"1233600","time":"2017-5-5 18:18","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说:<div class=\"codeHighlight\"><pre> [mask]test2[/mask]</pre></div></q></div>test3"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3-3","id":"1233603","time":"2017-5-5 18:19","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: <span style=\"background-color:#555;color:#555;border:1px solid #555;\">test2</span></q></div>test4"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#4","id":"1233606","time":"2017-5-5 18:21","userId":"261227","userName":"chitanda＠Lv2","userSign":"(Make Bangumi Great Again!)","message":"发现问题所在了。<br>#3-2是我手动构造的回复，#3-3是回复后系统自动生成的，编辑的时候可以看到#3-3的回复里的[code]没了<br>代码如图：<br><img src=\"http://wx2.sinaimg.cn/large/8b59c960ly1ffanprqsj5j20pb058jrs.jpg\" class=\"code\" alt>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#4-1","id":"1233608","time":"2017-5-5 18:24","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"于是你重复了我#2-1的结论，引用了就扒了……"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#4-2","id":"1233609","time":"2017-5-5 18:26","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: 于是你重复了我#2-1的结论，引用了就扒了……</q></div>哦哦，前面没看懂你2-1的回复。。我重点只是放在前半句了= ="},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#4-3","id":"1233610","time":"2017-5-5 18:27","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: 于是你重复了我#2-1的结论，引用了就扒了……</q></div>发现你回复早了，结果我这层没编辑完就不能改了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#4-4","id":"1233611","time":"2017-5-5 18:27","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: 发现你回复早了，结果我这层没编辑完就不能改了</q></div>再开一层吧……"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#4-5","id":"1233614","time":"2017-5-5 18:29","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">LunarShaddow</span> 说: 再开一层吧……</q></div>没事，其实就是加了个3-2的代码截图顺带卖了个萌。结果没卖出去。<span style=\"background-color:#555;color:#555;border:1px solid #555;\">BGM歧视大龄肥宅</span><img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5","id":"1233624","time":"2017-5-5 18:44","userId":"laoism","userName":"林卯","userSign":"(✨️VIP 8✨️)","message":"这个不算问题，quote仅引用纯文本忽略BBCode，而你用code包围的部分被视为纯文本。","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-1","id":"1233636","time":"2017-5-5 18:55","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"然而这样quote的实际表现方式和用户期待的展现方式有区别了。而且事实上quote内也并没有真的完全忽略BBCode。。倒不如说只有code被忽略了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5-2","id":"1233653","time":"2017-5-5 19:09","userId":"laoism","userName":"林卯","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: 然而这样quote的实际表现方式和用户期待的展现方式有区别了。而且事实上quote内也并没有真的完全忽略BBCode。。倒不如说只有code被忽略了</q></div>你钻到牛角尖里出不来了…<br>回复时仅引用纯文本，然后用quote括起来。这一步有问题吗？<br>用code包围的BBCode由于是“code”不解析，当作纯文本被引用。这一步有问题吗？<br>而被用quote括起来的BBCode由于没有被code包围所以就被解析生效。这一步有问题吗？<br><br>只有code被忽略？如果我告诉你我可以构造一个code不被忽略的回复呢。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5-3","id":"1233661","time":"2017-5-5 19:14","userId":"laoism","userName":"林卯","userSign":"","message":"[code<span style=\"font-weight:bold;\"></span>]hello world![/code]<span style=\"font-size:0px; line-height:0px;\">[code<span style=\"font-weight:bold;\"></span>]hello world again[/code]</span><br>实际上用这个方法可以影响回复你的人的引用内容。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-4","id":"1233663","time":"2017-5-5 19:16","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: 你钻到牛角尖里出不来了…<br>回复时仅引用纯文本，然后用quote括起来。这一步有问题吗？<br>用code包围的BBCode由于是“code”不解析，当作纯文本被引用。这一步有问题吗？<br>而被用quote括起来...</q></div>“回复时仅引用纯文本，然后用quote括起来。这一步有问题吗？”<br>你这个论点就是<span style=\"font-weight:bold;\">错</span>的。看到这个加粗的“错”字了么？他并没有被视作纯文本。所以一样是bbcode里的内容，为什么<div class=\"codeHighlight\"><pre>[b]</pre></div>不忽略而<div class=\"codeHighlight\"><pre>[code]</pre></div>要被忽略？<br>而且可以构造一个code不被忽略的回复不就正好说明你前面这个论点站不住。实际上quote的内容并没有忽略哪个特定BBCode标签的设定，code被忽略是个bug"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5-5","id":"1233668","time":"2017-5-5 19:29","userId":"laoism","userName":"林卯","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: “回复时仅引用纯文本，然后用quote括起来。这一步有问题吗？”<br>你这个论点就是错的。看到这个加粗的“错”字了么？他并没有被视作纯文本。所以一样是bbcode里的内容，为什么<span style=\"font-weight:bold;\">不忽略而[code]...</span></q></div><span style=\"font-weight:bold;\">什么？b不忽略是什么鬼？这个帖子里哪个b是没被忽略的？具体一点：这个帖子里哪个被系统自动引用而非手工构造的b是没被忽略的？你想表达什么？昵称也是帖子的一部分？“chitanda 说: ”这个加粗的是引用的内容？</span><br>上面这句话是用b加粗的，回复一下试试。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-6","id":"1233669","time":"2017-5-5 19:30","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: 什么？b不忽略是什么鬼？这个帖子里哪个b是没被忽略的？具体一点：这个帖子里哪个被系统自动引用而非手工构造的b是没被忽略的？你想表达什么？昵称也是帖子的一部分？“chitanda 说: ”这个加粗的是引...</q></div>回复"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-7","id":"1233671","time":"2017-5-5 19:33","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: 什么？b不忽略是什么鬼？这个帖子里哪个b是没被忽略的？具体一点：这个帖子里哪个被系统自动引用而非手工构造的b是没被忽略的？你想表达什么？昵称也是帖子的一部分？“chitanda 说: ”这个加粗的是引...</q></div>OK,#5-7倒是能说明我前面认知有问题了。<br>BGM的回复系统确实是这么“回复时仅引用纯文本，然后用quote括起来”设定的。<br>那我现在能认为这个设定本身有问题了么？<br>既然用户可以自行构造一个完全符合BBCode使用规则并正常显示出来的回复，为什么系统自动设置的回复要过滤掉全部的BBCode?"},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/90/189040.jpg","floor":"#5-8","id":"1233674","time":"2017-5-5 19:51","userId":"prevails","userName":"Donuts","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: OK,#5-7倒是能说明我前面认知有问题了。<br>BGM的回复系统确实是这么“回复时仅引用纯文本，然后用quote括起来”设定的。<br>那我现在能认为这个设定本身有问题了么？<br>既然用户可以自行构造一个完全符合...</q></div>回复引用是前端完成的<span style=\"text-decoration: line-through;\">，bbcode转html是后端完成的，你在前端拿不到别人写的bbcode，只能拿到html。回复引用过滤的实际上是html标签</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5-9","id":"1233676","time":"2017-5-5 19:57","userId":"laoism","userName":"林卯","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: 回复</q></div>可以测试回一下#5-3，我试着搞了个彩蛋。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/30/133075.jpg","floor":"#5-10","id":"1233678","time":"2017-5-5 20:00","userId":"liaune","userName":"君寻","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: <div class=\"codeHighlight\"><pre>hello world!</pre></div><div class=\"codeHighlight\"><pre>hello world again</pre></div><br>实际上用这个方法可以影响回复你的人的引用内容。</q></div>这里可以用[span]吗？怎么用？"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-11","id":"1233680","time":"2017-5-5 20:01","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Donuts</span> 说: 因为回复引用是前端完成的，bbcode转html是后端完成的，你在前端拿不到别人写的bbcode，只能拿到html</q></div>OK。如此真诚不做作<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>然而我还是很好奇虽然前端确实拿不到bbcode，但是<span style=\"font-weight:bold;\">后端完全可以获得被引用的回复的bbcode代码</span>吧？按理说后端处理下返回应该也是没问题的。。<br>不过就当这是技术限制吧，毕竟需求也有个轻重缓急<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-12","id":"1233682","time":"2017-5-5 20:06","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: <div class=\"codeHighlight\"><pre>hello world!</pre></div><div class=\"codeHighlight\"><pre>hello world again</pre></div><br>实际上用这个方法可以影响回复你的人的引用内容。</q></div>这个应该就是利用被引用会默认纯文本的方法提前埋了个bbcode解析后视觉不可见的内容吧。。我开始还以为是构造了个多重嵌套的= =<br>我也来弄一个试试看。。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-13","id":"1233689","time":"2017-5-5 20:21","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">君寻</span> 说: hello world again<br>实际上用这个方法可以影响回复你的人的引用内容。这里可以用[span]吗？怎么用？</q></div>另一个[code]用bbcode里的[size]设置为0就可以了。。这样默认不显示，不过被引用后size=0失效，就出来了。不过我不知道哪些非现代浏览器能不能完美的体现这个size=0。貌似有些旧浏览器不会完全等于0"},{"avatar":"//lain.bgm.tv/pic/user/m/000/01/43/14382.jpg","floor":"#5-14","id":"1233690","time":"2017-5-5 20:23","userId":"laoism","userName":"林卯","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">君寻</span> 说: hello world again<br>实际上用这个方法可以影响回复你的人的引用内容。这里可以用[span]吗？怎么用？</q></div>我只是利用了引用会忽略BBCode这点：<div class=\"codeHighlight\"><pre>［code[i][/i]］［/code］，［c[u][/u]ode］［/code］…随便写。</pre></div>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/90/189040.jpg","floor":"#5-15","id":"1233695","time":"2017-5-5 20:32","userId":"prevails","userName":"Donuts","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: OK。如此真诚不做作<br>然而我还是很好奇虽然前端确实拿不到bbcode，但是后端完全可以获得被引用的回复的bbcode代码吧？按理说后端处理下返回应该也是没问题的。。<br>不过就当这是技术限制吧，毕竟需求也...</q></div>其实这样也有好处<br><br>假设一个这样的时间流程：我回复“乖爷爷，快叫孙子”，你看到我写的内容，你开始写回复“孙子”，我edit我的回复内容为“你是我谁？”并保存，你写完回复“孙子”并发送<br><br>为了让你真正回复的对象内容是你当时浏览器看到的内容，只能前端先取好，一并保存。<br>如果让后端处理，你会发现辛辛苦苦写完，传给服务器，再传回来，要回复的对象内容已经变了。。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-16","id":"1233697","time":"2017-5-5 20:38","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Donuts</span> 说: 其实这样也有好处<br><br>假设一个这样的时间流程：我回复“乖爷爷，快叫孙子”，你看到我写的内容，你开始写回复“孙子”，我edit我的回复内容为“你是我谁？”并保存，你写完回复“孙子”并发送<br><br>为了让你真正回...</q></div>也对。。这个角度的话是能理解了。不过我刚刚看了下，事实上前端发回去的好像不是bbcode代码而是BBCode解析后的HTML？如果这样的话能不能前端直接取完整的HTML结构保存？<span style=\"color: #FFF;\"><span style=\"font-weight:bold;\">TEST</span></span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/90/189040.jpg","floor":"#5-17","id":"1233728","time":"2017-5-5 21:41","userId":"prevails","userName":"Donuts","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: 我只是利用了引用会忽略BBCode这点：［code<span style=\"font-style:italic\"></span>］［/code］，[code]［c<span style=\"text-decoration: underline;\"></span>ode］［/code］…随便写。</q></div>你这么一说我倒想出一种完全置换的玩法，如下<br><span style=\"font-size:0px; line-height:0px;\">[si<span style=\"font-weight:bold;\"></span>ze=0]</span>苟利国家生死以<span style=\"font-size:0px; line-height:0px;\">[/s<span style=\"font-weight:bold;\"></span>ize]岂因祸福避趋之</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/90/189040.jpg","floor":"#5-18","id":"1233731","time":"2017-5-5 21:46","userId":"prevails","userName":"Donuts","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: 也对。。这个角度的话是能理解了。不过我刚刚看了下，事实上前端发回去的好像不是bbcode代码而是BBCode解析后的HTML？如果这样的话能不能前端直接取完整的HTML结构保存？TEST</q></div>保存了html，就是准备把 html 原封不动的放回到网页上？这样不安全，会给XSS攻击提供机会。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#5-19","id":"1233733","time":"2017-5-5 21:53","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: <div class=\"codeHighlight\"><pre>hello world!</pre></div><div class=\"codeHighlight\"><pre>hello world again</pre></div><br>实际上用这个方法可以影响回复你的人的引用内容。</q></div>checking"},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/82/208208.jpg","floor":"#5-20","id":"1233734","time":"2017-5-5 21:53","userId":"aflyhorse","userName":"LunarShaddow🌙","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Donuts</span> 说: 你这么一说我倒想出一种完全置换的玩法，如下<br><span style=\"font-size:0px; line-height:0px;\">苟利国家生死以</span>岂因祸福避趋之</q></div>another checking<br>唉你们好厉害"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-21","id":"1233735","time":"2017-5-5 22:03","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Donuts</span> 说: 保存了html，就是准备把 html 原封不动的放回到网页上？这样不安全，会给XSS攻击提供机会。</q></div>xss的话能过滤啊。。主要我看现在前端返回的不也是html内容吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">还是我理解错了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/18/90/189040.jpg","floor":"#5-22","id":"1233736","time":"2017-5-5 22:07","userId":"prevails","userName":"Donuts","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda</span> 说: xss的话能过滤啊。。主要我看现在前端返回的不也是html内容吗还是我理解错了</q></div>哦，这个意思，是我理解错了，刚才没测试有点想当然了"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#5-23","id":"1233744","time":"2017-5-5 22:35","userId":"fireattack","userName":"烈之斩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">林卯</span> 说: <div class=\"codeHighlight\"><pre>hello world!</pre></div><div class=\"codeHighlight\"><pre>hello world again</pre></div><br>实际上用这个方法可以影响回复你的人的引用内容。</q></div>ce shi"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#5-24","id":"1233745","time":"2017-5-5 22:37","userId":"fireattack","userName":"烈之斩","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">烈之斩</span> 说: hello world again<br>实际上用这个方法可以影响回复你的人的引用内容。ce shi</q></div>how it works?"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-25","id":"1233756","time":"2017-5-5 23:09","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">烈之斩</span> 说: how it works?</q></div>#5-14有解释。因为引用会使bbcode失效所以可以提前构造好一个看起来无效的code标签，等到被引用后里面的bbcode都被过滤了，之前无效的code就生效了。第二个句子隐藏了应该是利用了size=0<br>大概的一个源代码：<br><a href=\"https://pastebin.com/8a7bBAzB\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://pastebin.com/8a7bBAzB</a>"}]}]
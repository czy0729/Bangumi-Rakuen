[{"avatar":"//lain.bgm.tv/pic/user/m/000/08/89/88901.jpg","floor":"#2","id":"1429126","time":"2019-3-18 11:39","userId":"lin_bangumi","userName":"Amadeus","userSign":"(意想不到的事情发生了)","message":"好，可是我的wp已经。。。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/04/210454.jpg","floor":"#3","id":"1429132","time":"2019-3-18 12:02","userId":"mp4spig","userName":"🌸九重凛🌸","userSign":"(人不抽我，我不抽人。人若抽我，我必抽人。 ...)","message":"支持！","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/17/80/178081.jpg","floor":"#4","id":"1429181","time":"2019-3-18 17:22","userId":"ershiwo","userName":"板砖加身","userSign":"(大破的那珂酱好萌！)","message":"支持。（莫名的凄凉感）<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/25/22/252257.jpg","floor":"#5","id":"1429228","time":"2019-3-18 21:30","userId":"renkomei","userName":"Renkomei","userSign":"","message":"朋友，你的api id和secret就这么放出来好吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#5-1","id":"1429229","time":"2019-3-18 21:32","userId":"lhyzf","userName":"猫苇","userSign":"","message":"那咋办啊<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">，都已经放出来了。。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/25/22/252257.jpg","floor":"#5-2","id":"1429231","time":"2019-3-18 21:38","userId":"renkomei","userName":"Renkomei","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 那咋办啊，都已经放出来了。。</q></div>重新申请个app呗"},{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#5-3","id":"1429233","time":"2019-3-18 21:43","userId":"lhyzf","userName":"猫苇","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Renkomei</span> 说: 重新申请个app呗</q></div>请问那提交的时候是要把id先去掉吗？"},{"avatar":"//lain.bgm.tv/pic/user/m/000/25/22/252257.jpg","floor":"#5-4","id":"1429236","time":"2019-3-18 21:47","userId":"renkomei","userName":"Renkomei","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 请问那提交的时候是要把id先去掉吗？</q></div>直接删掉app？要不然查看commit还是可以看到…删了app你repo不做修改也无所谓了…"},{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#5-5","id":"1429238","time":"2019-3-18 21:52","userId":"lhyzf","userName":"猫苇","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Renkomei</span> 说: 直接删掉app？要不然查看commit还是可以看到…删了app你repo不做修改也无所谓了…</q></div>这样子之后每次提交都要记得删那两行啊（感觉搞不好就忘了，再申请个新的）"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#5-6","id":"1429241","time":"2019-3-18 22:04","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 这样子之后每次提交都要记得删那两行啊（感觉搞不好就忘了，再申请个新的）</q></div>使用gitignore功能, 比如放在一个文本文件里每次用到的时候去读, 然后把这个文件ignore掉..."},{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#5-7","id":"1429242","time":"2019-3-18 22:16","userId":"lhyzf","userName":"猫苇","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Renkomei</span> 说: 直接删掉app？要不然查看commit还是可以看到…删了app你repo不做修改也无所谓了…</q></div>似乎删不了app<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#5-8","id":"1429265","time":"2019-3-18 23:41","userId":"lhyzf","userName":"猫苇","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 使用gitignore功能, 比如放在一个文本文件里每次用到的时候去读, 然后把这个文件ignore掉...</q></div>好，搞定了。git真强，还能忽略特定行。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#5-9","id":"1429266","time":"2019-3-18 23:48","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 那咋办啊 ，都已经放出来了。。</q></div>hhh我也<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">要不把github项目删了重新建一个吧"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#5-10","id":"1429280","time":"2019-3-19 01:05","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">BinotaLIU</span> 说: 你可以改寫歷史然後使用原力 (force) https://dev.to/binotaliu/git-rebase-irl-55ei</q></div>rebase了下载统计就没了呀<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">反正也用不上了，等sai老板销户吧hhh"},{"avatar":"//lain.bgm.tv/pic/user/m/000/40/82/408230.jpg","floor":"#5-11","id":"1429281","time":"2019-3-19 01:05","userId":"408230","userName":"astrea","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 那咋办啊，都已经放出来了。。</q></div>最近也在开发本地的客户端，我的理解是这样的<br>1. 删除敏感信息用[bfg](<a href=\"https://help.github.com/en/articles/removing-sensitive-data-from-a-repository\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://help.github.com/en/artic ... a-from-a-repository</a> )或者`git filter-branch`，否则还会存在于git repo里<br>2. app id是无所谓的，bangumi的一些api要求发请求一定要带上，所以不是秘密<br>3. client secret理论上应该保密，因为有了这个就可以用client的refresh token换取access token，也可以假冒你的客户端的身份来让用户授权。但dart官方开发的[oauth client](<a href=\"https://github.com/dart-lang/oauth2\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://github.com/dart-lang/oauth2</a>)里提到\"This is fine; OAuth2 servers generally won't rely on knowing with certainty that a client is who it claims to be.\"我觉得是比较有道理的。实际上别人拿了你客户端的身份也没啥用，除非你的客户端比别人的有特殊权限（比如著名的weico apikey泄漏事件，导致很多第三方微博客户端都可以使用weico的高级权限我猜就是因为类似的原因，但对于bangumi来说我觉得sai大概不会开发这么高级的功能所以也无所谓，真的有了再保护好就行）。<br>4. access token和refresh token是绝对的秘密，相当于用户密码，客户端要做好保密，自己测试的时候也不应该出现在git repo里<br>5. 所以最理想，最安全的方案是客户端上只存client id，然后用户请求授权时把用户导向你的服务器（存有client secret）进行授权，然后把access token返回给用户，用户需要刷新授权时也是把请求发向你的服务器。<br>实际上对于小开发者来说这让情况变糟了（需要考虑自己架设服务器的安全性和稳定性，同时每次用户授权都要经过开发者的服务器导致授权速度变慢）<br>6. 所以我现在觉得对于本地客户端来说就直接把client secret和app id编译的时候存在binary里就行（但是还是不要放在git repo里），要注意的是这样别人反编译还是可以拿到client secret，所以相当于牺牲一定的安全性换来很多方便"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#5-12","id":"1429284","time":"2019-3-19 01:13","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">astrea</span> 说: 最近也在开发本地的客户端，我的理解是这样的 1. 删除敏感信息用[bfg]( https://help.github.com/en/artic ... a-from-a-repository )或者`git filter-branch`，否则还会存在于git repo里...</q></div>hhh这么说我以前access token还是明文存的share preference"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#5-13","id":"1429285","time":"2019-3-19 01:15","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">BinotaLIU</span> 说: 下載統計跟 git 啥關係？</q></div>github的tag和commit绑一起的难道不是一起删吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><span style=\"background-color:#555;color:#555;border:1px solid #555;\">太麻烦了，懒</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/41/90/419012.jpg","floor":"#5-14","id":"1429287","time":"2019-3-19 01:26","userId":"ekibun","userName":"ekibun","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">BinotaLIU</span> 说: 沒事，下載量就那樣 總比 repo 整個刪掉沒了歷史記錄好</q></div>当然是锁掉原repo新建一个呀<br><span style=\"background-color:#555;color:#555;border:1px solid #555;\">算了想想我也舍不得小星星</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#5-15","id":"1429290","time":"2019-3-19 02:47","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 好，搞定了。git真强，还能忽略特定行。</q></div>原来还能忽略特定行的…"},{"avatar":"//lain.bgm.tv/pic/user/m/000/45/62/456208.jpg","floor":"#5-16","id":"1432399","time":"2019-4-2 21:53","userId":"sukaretto","userName":"czy0729","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">astrea</span> 说: 最近也在开发本地的客户端，我的理解是这样的<br>1. 删除敏感信息用[bfg](https://help.github.com/en/artic ... a-from-a-repository )或者`g...</q></div>我也在做, 我是直接放出来的, 不打算弄服务器, 小前端一枚"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#6","id":"1429232","time":"2019-3-18 21:40","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"(プリキュアなりたい)","message":"支持，uwp不要停下来啊","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/02/200242.jpg","floor":"#7","id":"1429468","time":"2019-3-20 12:55","userId":"h82258652","userName":"h82258652","userSign":"","message":"汗，撞车了，我也在弄UWP版（网页版触屏体验太烂了）。<br>现在图片素材这块烦得想死<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/20/02/200242.jpg","floor":"#8","id":"1429475","time":"2019-3-20 13:51","userId":"h82258652","userName":"h82258652","userSign":"","message":"蛋疼了，我callbackUri是这样，然后就登录不上了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br><img src=\"https://i.loli.net/2019/03/20/5c91d4bb68f84.png\" class=\"code\" alt>","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/25/22/252257.jpg","floor":"#8-1","id":"1429619","time":"2019-3-21 07:09","userId":"renkomei","userName":"Renkomei","userSign":"","message":"是你本地应用的路径啊，local host:<port>/api/authorize这样"}]},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#9","id":"1431456","time":"2019-3-30 17:35","userId":"441528","userName":"issac","userSign":"","message":"你们好强啊 我之前才发帖你们现在就做出来了 我能进你们开发组吗 有空时帮帮忙","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#9-1","id":"1431495","time":"2019-3-30 19:30","userId":"lhyzf","userName":"猫苇","userSign":"","message":"没有开发组，就我一个人<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/48/71/487105.jpg","floor":"#9-2","id":"1469705","time":"2019-7-27 11:26","userId":"rock_46","userName":"Rock_46","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">猫苇</span> 说: 没有开发组，就我一个人</q></div>惨烈┌(。Д。)┐"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/23/54/235458.jpg","floor":"#10","id":"1457884","time":"2019-6-27 12:27","userId":"lhyzf","userName":"猫苇","userSign":"","message":"捞一下，应用现已上架应用商店，欢迎大家下载使用<img src=\"/img/smiles/tv/01.gif\" smileid=\"40\" alt=\"(bgm24)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/48/71/487105.jpg","floor":"#10-1","id":"1469704","time":"2019-7-27 11:25","userId":"rock_46","userName":"Rock_46","userSign":"","message":"诶"},{"avatar":"//lain.bgm.tv/pic/user/m/000/24/91/249165.jpg","floor":"#10-2","id":"1469942","time":"2019-7-28 06:51","userId":"249165","userName":"𝟸𝟺𝟿𝟷𝟼𝟻","userSign":"","message":"mark"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/46/73/467361.jpg","floor":"#11","id":"1520723","time":"2019-11-8 09:08","userId":"467361","userName":"沢渡ほのか","userSign":"(一日复一日...)","message":"支持支持","sub":[]}]
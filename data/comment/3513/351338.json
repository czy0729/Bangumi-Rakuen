[{"avatar":"//lain.bgm.tv/pic/user/m/000/30/42/304246.jpg","floor":"#2","id":"1458705","time":"2019-7-1 10:03","userId":"304246","userName":"Rくん","userSign":"(答えはいつも私の胸に～)","message":"不懂，我就想问一下：那种用UUID提供代理的socks5效果和用户名密码是否一样呢？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-1","id":"1458886","time":"2019-7-1 20:02","userId":"trim21","userName":"Trim21","userSign":"","message":"那种大概是用UUID当作用户名或者密码吧"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#3","id":"1458888","time":"2019-7-1 20:03","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"找到解决办法了，filebeat和logstash之间可以加一个消息中间件，不把logstash暴露到公网，用带密码的Redis作为消息中间件就不用考虑filebeat和logstash之间的加密问题了。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/17/80/178081.jpg","floor":"#4","id":"1458894","time":"2019-7-1 20:21","userId":"ershiwo","userName":"板砖加身","userSign":"(大破的那珂酱好萌！)","message":"如果有域名的话用 let‘s encrypt 客户端管理证书就行。纯 ip 的话一般还得回到自签发证书那一步，不过也需要在 logstash 主机上添加信任证书了。<br><br>但按你这描述还不如走 ssh 的公私钥认证，用带密码认证的 redis 做中间件也是一种办法。","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#4-1","id":"1458897","time":"2019-7-1 20:31","userId":"trim21","userName":"Trim21","userSign":"","message":"原来le的证书也可以吗,我倒是签了一堆le的泛域名证书.<br><br>我的机器之间是通过内网通讯的,logstash收到请求的地址跟dns里面的解析结果应该是不同的.在filebeat这边修改hosts,把对应的内网ip写到hosts文件里应该就能进行服务器认证了,但客户端认证的过程里客户端域名是如何确定的? <br><br>是logstash收到证书之后,根据ip反向进行解析,比如hosts里面192.168.1.4对应domain1,domain2,domain3,然后判断解析出来的域名是否存在跟filebeat使用的证书匹配的域名吗?"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#4-2","id":"1458910","time":"2019-7-1 21:14","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"","message":"自己搭的话可以自己生成证书"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#4-3","id":"1458911","time":"2019-7-1 21:15","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">lhb5883-污&#x1F431;王VIP⑩</span> 说: 自己搭的话可以自己生成证书</q></div>我就是不想自己生成证书........"},{"avatar":"//lain.bgm.tv/pic/user/m/000/17/80/178081.jpg","floor":"#4-4","id":"1458963","time":"2019-7-1 22:37","userId":"ershiwo","userName":"板砖加身","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 原来le的证书也可以吗,我倒是签了一堆le的泛域名证书.<br><br>我的机器之间是通过内网通讯的,logstash收到请求的地址跟dns里面的解析结果应该是不同的.在filebeat这边修改hosts,把对应...</q></div><a href=\"http://rk700.github.io/2016/12/16/filebeat-kafka-logstash-authentication-authorization/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://rk700.github.io/2016/12/1 ... tion-authorization/</a><br>我觉得你肯定找到过这篇，再配合防火墙规则足矣。<br><br>至于证书那部分，绕圈子去反解析 ip 没有必要，仅考虑验证身份的部分的话，这一步在交换密钥的时候就完成了。<br><a href=\"https://luan.ma/post/https-introduction/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://luan.ma/post/https-introduction/</a><br>这篇文章可以初步解释 HTTPS 整个验证过程。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#4-5","id":"1458964","time":"2019-7-1 22:41","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">板砖加身</span> 说: http://rk700.github.io/2016/12/1 ... tion-authorization/<br>我觉得你肯定找到过这篇，再配合防火墙规则足矣。<br><br>至于证书那部分，绕圈子去反解析 ip...</q></div>emmm(<br>logstash跟filebeat之间的通讯不是http协议,所以设置了ssl加密之后也不是https<br><br>https的认证过程我是清楚的,也就是服务端验证这部分,不太明白的是客户端认证."},{"avatar":"//lain.bgm.tv/pic/user/m/000/17/80/178081.jpg","floor":"#4-6","id":"1458967","time":"2019-7-1 22:50","userId":"ershiwo","userName":"板砖加身","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: emmm(<br>logstash跟filebeat之间的通讯不是http协议,所以设置了ssl加密之后也不是https<br><br>https的认证过程我是清楚的,也就是服务端验证这部分,不太明白的是客户端认证.</q></div>拿 VPN 做加密管道不就好了。客户端认证就是反过来的服务端认证，没有什么区别啊。"}]}]
[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2","id":"1488912","time":"2019-9-7 12:57","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"你以为的result文件夹跟实际程序想写的文件所在的文件夹不是一个文件夹吧","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#2-1","id":"1488923","time":"2019-9-7 13:16","userId":"441758","userName":"snylonue","userSign":"","message":"但是用绝对路径也会报错<br>当时的错误栈(程序和output文件夹在同一目录):<br><a href=\"https://i.loli.net/2019/09/07/egRPS6Vc9QXxNrD.png\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\"><img src=\"https://i.loli.net/2019/09/07/egRPS6Vc9QXxNrD.png\" class=\"code\" alt></a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-2","id":"1488927","time":"2019-9-7 13:18","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">snylonue</span> 说: 但是用绝对路径也会报错<br>当时的错误栈:<br><br>//</q></div>你这个不叫绝对路径，绝对路径在*nix下面是/开头的，在Windows上面是以盘符开头的"},{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#2-3","id":"1488940","time":"2019-9-7 13:27","userId":"441758","userName":"snylonue","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 你这个不叫绝对路径，绝对路径在*nix下面是/开头的，在Windows上面是以盘符开头的</q></div>emm，截错图了<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">,果然不应该同时用两个shell<br><a href=\"https://i.loli.net/2019/09/07/a6XpSWgD8RxviHP.png\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\"><img src=\"https://i.loli.net/2019/09/07/a6XpSWgD8RxviHP.png\" class=\"code\" alt></a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-4","id":"1488954","time":"2019-9-7 13:40","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">snylonue</span> 说: emm，截错图了,果然不应该同时用两个shell</q></div>这我就不知道了（"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/07/310722.jpg","floor":"#3","id":"1488949","time":"2019-9-7 13:31","userId":"maple_5233","userName":"桜小路ルナ","userSign":"(大変に気分がいい)","message":"试试with open(path+\".\\x\\y.txt\", \"r\") as file:<br><br>windows的斜杆不一样<br><br>如果上述方法可以 就改成os.path.abspath(os.path.join(path, \"blablabla...\"))","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#3-1","id":"1488958","time":"2019-9-7 13:46","userId":"441758","userName":"snylonue","userSign":"","message":"不行，\\ 还会遇到转义问题"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/07/310722.jpg","floor":"#3-2","id":"1488959","time":"2019-9-7 13:51","userId":"maple_5233","userName":"桜小路ルナ","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">snylonue</span> 说: 不行，\\ 还会遇到转义问题</q></div>pathlib咯<br>所以说我不喜欢py..."},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#3-3","id":"1488960","time":"2019-9-7 13:51","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">桜小路ルナ</span> 说: pathlib咯<br>所以说我不喜欢py...</q></div>r\".\\x\\y.txt\"<br>python有个特性让反斜杠不转义啊"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/07/310722.jpg","floor":"#3-4","id":"1488962","time":"2019-9-7 13:59","userId":"maple_5233","userName":"桜小路ルナ","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: r\".\\x\\y.txt\"<br>python有个特性让反斜杠不转义啊</q></div>23333我不太熟悉py<br>觉得py做啥都好麻烦..."},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/21/62186.jpg","floor":"#3-5","id":"1489056","time":"2019-9-7 16:17","userId":"epix","userName":"epix","userSign":"","message":"windows下的python处理路径时不分正反斜线的, 都当路径分隔符用.<br><span style=\"text-decoration: line-through;\">不如说一个你觉得不麻烦的语言引起圣战</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/07/310722.jpg","floor":"#3-6","id":"1489219","time":"2019-9-7 22:24","userId":"maple_5233","userName":"桜小路ルナ","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">epix</span> 说: windows下的python处理路径时不分正反斜线的, 都当路径分隔符用.<br>不如说一个你觉得不麻烦的语言引起圣战</q></div>node go"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/47/4768.jpg","floor":"#4","id":"1488953","time":"2019-9-7 13:39","userId":"mars","userName":"粘土火星","userSign":"(Save you from anything)","message":"shutil，pathlib了解一下？","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#5","id":"1488986","time":"2019-9-7 14:35","userId":"fireattack","userName":"烈之斩","userSign":"(V1046-R MAHORO)","message":"你确定result文件夹真的存在？你这表现怎么看都是“output”文件夹不存在导致的<br><br>另外win下可以用“/”，不会有问题<br><br>倒是比较好奇怎么会出来个future，难道是py2？","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#5-1","id":"1489009","time":"2019-9-7 15:22","userId":"441758","userName":"snylonue","userSign":"","message":"result那个只是例子，不是实际代码<br><br>python3.7.4,应该是asyncio.Future，或者是用了aiohttp?<br>还有可能是照着比较老的教程写的(没有async和await):<br><a href=\"https://sm.ms/image/PwAo7ZKpx9GBit5\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\"><img src=\"https://i.loli.net/2019/09/07/PwAo7ZKpx9GBit5.png\" class=\"code\" alt></a>"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/05/41/54176.jpg","floor":"#6","id":"1489042","time":"2019-9-7 16:05","userId":"light_44","userName":"lighthouse","userSign":"","message":"关于上面说的斜杠，我一般用//, / 有时候确实会报错。我也不知道为啥。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#7","id":"1489081","time":"2019-9-7 16:52","userId":"313469","userName":"Cedar","userSign":"(｡´-д-)","message":"pixiv爬虫<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><br>python3.7建议用pathlib处理文件路径问题<br>比如你那个<div class=\"codeHighlight\"><pre>if not os.path.exists('result'):<br>    os.mkdir('result')</pre></div>就不太pythonic..<br>应该改成<div class=\"codeHighlight\"><pre>import pathlib<br>pathlib.Path('result').mkdir(exist_ok=True)</pre></div>速度快而且简洁..<br>至少也应该是<div class=\"codeHighlight\"><pre>try: os.mkdir('result')<br>except FileExistsError: pass</pre></div>其实全部重写 都改用pathlib处理更好..","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#7-1","id":"1489089","time":"2019-9-7 16:58","userId":"441758","userName":"snylonue","userSign":"","message":"学到了<br>毕竟是初学者拿来练手的<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\"><span style=\"text-decoration: line-through;\">而且学过一点点C++</span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/31/34/313469.jpg","floor":"#7-2","id":"1489093","time":"2019-9-7 17:00","userId":"313469","userName":"Cedar","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">snylonue</span> 说: 学到了<br>毕竟是初学者拿来练手的而且学过一点点C++</q></div>其实我也是初学(自学)..懂得贼少.."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#8","id":"1489090","time":"2019-9-7 16:58","userId":"mono","userName":"rnono","userSign":"(汝视视汝)","message":"open不會自動給你創建所需上級目錄<br><br>找找看庫裏有沒有類似mkdir_p / mkdir_recursive 的方法","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#8-1","id":"1489092","time":"2019-9-7 16:59","userId":"441758","userName":"snylonue","userSign":"","message":"这个刚才试出来了<img src=\"/img/smiles/tv/17.gif\" smileid=\"56\" alt=\"(bgm40)\">，但是目录一开始是创建好的"},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#8-2","id":"1489114","time":"2019-9-7 17:35","userId":"mono","userName":"rnono","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">snylonue</span> 说: 这个刚才试出来了，但是目录一开始是创建好的</q></div>在py中看那個目錄的權限正常嗎? 我沒有在win用過很多py"},{"avatar":"//lain.bgm.tv/pic/user/m/000/44/17/441758.jpg","floor":"#8-3","id":"1489116","time":"2019-9-7 17:38","userId":"441758","userName":"snylonue","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">rnono</span> 说: 在py中看那個目錄的權限正常嗎? 我沒有在win用過很多py</q></div>正常"}]}]
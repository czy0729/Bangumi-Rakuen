[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2","id":"1374949","time":"2018-8-16 23:11","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"我也在苦恼这个事，不过我在苦恼怎么把番剧名跟bgm的条目对上……","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/24/39/243920.jpg","floor":"#2-1","id":"1374956","time":"2018-8-16 23:27","userId":"243920","userName":"Vincent","userSign":"","message":"自己做算法搜吧，简单点的把数据稍微处理下丢 es 里什么的b38"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-2","id":"1375272","time":"2018-8-18 03:11","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Vincent</span> 说: 自己做算法搜吧，简单点的把数据稍微处理下丢 es 里什么的b38</q></div>没法用es，只能用Python，虽然有各种包可用…<br><br>解决不了就准备每季度人工匹配了233"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/09/57/95768.jpg","floor":"#3","id":"1374961","time":"2018-8-16 23:37","userId":"a_little","userName":"拿月亮自刎","userSign":"(情更怯)","message":"有同样的想法，曾想根据名称把黄油的封面扒下了，以及匹配 Bangumi VNDB 的条目链接。<br>个人的思路是： 日期+游戏名称。 游戏名称尽量非贪婪匹配， 搜索结果先利用日期过滤，然后使用完整的文件名称 + fuzzy search 的库筛选<br>楼主举例的文件名分别是 2dj 、girlcelly 发布的档。游戏名称都还好判断吧，规律都是一致的。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/10/1010.jpg","floor":"#4","id":"1375015","time":"2018-8-17 04:54","userId":"fireattack","userName":"烈之斩","userSign":"(V1046-R MAHORO)","message":"一个简单的正则就能对应90%的文件名了，加点逻辑判断估计99%没问题<br><br>当年写的对应eh下载的cg包的：<br><br>r'^(\\((?P<prefix>.+?)\\))* *(\\[(?P<date>\\d+)\\])* *(\\[(?P<brand>[^\\]\\[]+)\\])* *(?P<title>[^\\[].+?[^) ]) *([\\[\\(](?P<formats>[^\\)\\]]+)[\\]\\)])*(?P<is_sample>-1280x)*\\.(?P<extension>(.+?))$'<br><br>（Python）<br><br>N久以前写的对应share的同人誌的：<br><br>            temp = temp.Trim();<br>            Regex EventRegex = new Regex(@\"[(（](?<event>C\\d+?|COMIC.+?|サンクリ\\d+?|SC\\d\\+?|東方[^Pp同 )]+?)[)）]\");<br>            if (EventRegex.IsMatch(temp))<br>            {<br>                Event = EventRegex.Match(temp).Groups[\"event\"].Value;<br>                if (Event.Contains(\"SC\"))<br>                    Event.Replace(\"SC\", \"サンクリ\");                <br><br>                temp = temp.Replace(EventRegex.Match(temp).Value, \"\");<br>                temp = temp.Replace(\"  \", \" \");<br>            }<br>            else<br>            {<br>                Regex myRe = new Regex(@\"^[(（](?<event>[^同]+?)[)）][ ]*\");<br>                if (myRe.IsMatch(temp))<br>                {<br>                    Event = myRe.Match(temp).Groups[\"event\"].Value;<br>                    temp = temp.Replace(myRe.Match(temp).Value, \"\");<br>                    temp = temp.Replace(\"  \", \" \");<br>                }<br>            }<br><br>            bool istouhou = false;<br>            if (temp.StartsWith(\"(東方)\")||temp.StartsWith(\"(東方同人誌)\"))<br>            {<br>                istouhou = true;<br>            }<br><br>            Regex MyRegex = new Regex(@\"同人誌\\)[ ]*\\[(?<circle>.+?)\\][ ]*(?<title>.+?)[ ]*(?<parodys>[([（].+[)\\]）])*$\");<br>            Match MyMatch = MyRegex.Match(temp);<br>            GroupCollection groups = MyMatch.Groups;<br><br>（C#，很丑陋轻喷…）","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/42/58/425820.jpg","floor":"#4-1","id":"1375035","time":"2018-8-17 08:53","userId":"425820","userName":"22222222222","userSign":"","message":"主要是资源不是一个地方拖的。因为大部分论坛都是积分制，所以很多东西都得从积分白送的2手论坛收。就一个fgo的标签还能弄出fate grand order，fate/grand order之类的好几种形式。<br>更别说有的是罗马音，有的是片假名，有的直接上英文名，还有的混着来。<br>贴吧弄的cxx本子合集，都是这种鬼德行。"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/89/288945.jpg","floor":"#5","id":"1375038","time":"2018-8-17 08:58","userId":"hexsix","userName":"ฅ🦋喵小六❄️ฅ","userSign":"(我就没有一点力所能及的事情吗)","message":"mark","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/00/34/3490.jpg","floor":"#6","id":"1375062","time":"2018-8-17 10:26","userId":"lhb5883","userName":"lhb5883-污🐱王VIP⑩","userSign":"(媛娇系是检验大法的唯一标准)","message":"这种没办法,只能尽量往更大的数据库上靠.","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/42/58/425820.jpg","floor":"#7","id":"1375072","time":"2018-8-17 10:46","userId":"425820","userName":"22222222222","userSign":"","message":"看样子不能偷懒，还是只能针对每一种情况都单独判断。","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/41/284154.jpg","floor":"#8","id":"1375080","time":"2018-8-17 12:27","userId":"vickscarlet","userName":"神戸小鳥","userSign":"(愛してる、それだけです)","message":"<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">我苦恼的是音乐信息","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/06/64/66443.jpg","floor":"#8-1","id":"1375762","time":"2018-8-20 09:48","userId":"gates_ice","userName":"示申イ山","userSign":"","message":"+1"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/68/26866.jpg","floor":"#9","id":"1375083","time":"2018-8-17 12:41","userId":"hc","userName":"月火","userSign":"(おのれ！これで勝ったと思うなよぉ!!! ...)","message":"我也很苦恼，为何爱情动作片有番号，TV动画却没有","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/41/284154.jpg","floor":"#9-1","id":"1375085","time":"2018-8-17 12:43","userId":"vickscarlet","userName":"神戸小鳥","userSign":"","message":"或许可以用BD编号<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/04/97/49777.jpg","floor":"#9-2","id":"1375096","time":"2018-8-17 13:17","userId":"bgmouse","userName":"MousHu","userSign":"","message":"前不久不是有个楼谈表番编号的事情么 ~"},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/68/26866.jpg","floor":"#9-3","id":"1375110","time":"2018-8-17 14:31","userId":"hc","userName":"月火","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">神戸小鳥</span> 说: 或许可以用BD编号</q></div>用商品去表示作品本身，原则上好像不妥...<br>给编号这件事本身又不难"},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/68/26866.jpg","floor":"#9-4","id":"1375111","time":"2018-8-17 14:32","userId":"hc","userName":"月火","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">MousHu</span> 说: 前不久不是有个楼谈表番编号的事情么 ~</q></div>site:bgm.tv 也找不到<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/04/97/49777.jpg","floor":"#9-5","id":"1375114","time":"2018-8-17 14:42","userId":"bgmouse","userName":"MousHu","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">月火</span> 说: site:bgm.tv 也找不到</q></div>... 那我试着手工翻一下 ~ <img src=\"/img/smiles/tv/70.gif\" smileid=\"109\" alt=\"(bgm93)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/04/97/49777.jpg","floor":"#9-6","id":"1375115","time":"2018-8-17 14:44","userId":"bgmouse","userName":"MousHu","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">月火</span> 说: site:bgm.tv 也找不到</q></div>茶话会列表现在第五页就有 ...<br><a href=\"https://bgm.tv/group/topic/346533\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://bgm.tv/group/topic/346533</a>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/68/26866.jpg","floor":"#9-7","id":"1375243","time":"2018-8-18 01:23","userId":"hc","userName":"月火","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">MousHu</span> 说: 茶话会列表现在第五页就有 ...<br>https://bgm.tv/group/topic/346533</q></div>谢谢<img src=\"/img/smiles/tv/38.gif\" smileid=\"77\" alt=\"(bgm61)\">"},{"avatar":"//lain.bgm.tv/pic/user/m/000/25/55/255501.jpg","floor":"#9-8","id":"1375732","time":"2018-8-20 06:36","userId":"kakinuma","userName":"事实是柿子 - ⭐️VIP3","userSign":"","message":"某种程度上番号真的是个好东西<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/21/81/218166.jpg","floor":"#10","id":"1375276","time":"2018-8-18 04:22","userId":"xiadong1994","userName":"Shell32.py","userSign":"","message":"不如来一发机器学习？ <img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#10-1","id":"1375289","time":"2018-8-18 08:38","userId":"trim21","userName":"Trim21","userSign":"","message":"训练好的模型在吗<img src=\"/img/smiles/tv/15.gif\" smileid=\"54\" alt=\"(bgm38)\">"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/02/35/23570.jpg","floor":"#11","id":"1375292","time":"2018-8-18 09:05","userId":"htsune_miku","userName":"Jadeity","userSign":"(明天，我就要去屠龙（失恋了，不想再屠龙了） ...)","message":"除了文件名还有什么可以获得正确标题的方法吗？比如标题栏的信息能不能提取出来。","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/42/58/425820.jpg","floor":"#11-1","id":"1375293","time":"2018-8-18 09:34","userId":"425820","userName":"22222222222","userSign":"","message":"一般黄油的话，基本都是拿光盘镜像收藏。不知道有什么方便的操作压缩包里光盘镜像的方法……"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/27/45/274598.jpg","floor":"#12","id":"1375302","time":"2018-8-18 10:25","userId":"hentyclopedia","userName":"Hentyclopedia","userSign":"(Information doesn't harm)","message":"游戏有像图书一样的ISBN号码么","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/42/58/425820.jpg","floor":"#12-1","id":"1375309","time":"2018-8-18 10:58","userId":"425820","userName":"22222222222","userSign":"","message":"既然有数据库，自然就会有唯一对应的代码。<br>问题发资源的人不会去加这个代码。"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/19/89/198933.jpg","floor":"#13","id":"1391617","time":"2018-10-19 13:09","userId":"198933","userName":"上井葉心","userSign":"(sign)","message":"动画方面可以去扒一下弹弹play的接口。<br>弹弹play的根据文件名查动画名还是很准的。<br><br>本子方面就没辙了，想要较好解决你只能<br>要么选择获取更好的数据源，比如从大一点的论坛下本子而不是各种野鸡小论坛，或者直接从exhentai上拖本子，因为e绅士信息的完备信息记录下下载阶段就可以解决。<br><br>或者写一个半手动的脚本，提取关键字然后调用相关信息网页接口，手动从搜索结果里选择条目然后自动重命名。<br>这个其实和我写的本子管理系统有些相似。<br><br>我自己写的一个本子管理兼看本子恶系统，就是这样的。<br>首先将本子编入系统内，但是之后的本子名称规范化和标签怎么办，不可能手动去输入，那就从e绅士上扒了。<br>对于本子这种，其实你只要确保下载的资源质量，那么文件名的正则表达式只需要很简单几条就能对付相当多的本子资源<br><img src=\"https://i.loli.net/2017/10/15/59e311c5f1861.jpg\" class=\"code\" alt><br><br>下图就是用正则自动抽取关键字，然后搜索e绅士，然后在搜索结果上手动点击一下符合条件的条目，就能自动录入标签了<br><img src=\"https://i.loli.net/2017/10/15/59e3049185fe0.png\" class=\"code\" alt>","sub":[]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/21/62186.jpg","floor":"#14","id":"1397526","time":"2018-11-17 01:05","userId":"epix","userName":"epix","userSign":"((((；ﾟДﾟ)))))))","message":"或许可以参考一下猜视频文件名的工具? <a href=\"https://guessit.readthedocs.io/en/latest/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">https://guessit.readthedocs.io/en/latest/</a>","sub":[]}]
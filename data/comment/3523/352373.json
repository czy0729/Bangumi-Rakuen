[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2","id":"1486554","time":"2019-9-2 07:33","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"用setInterval和clearInterval定时检查另一个组件是否已经被成功加载，（判断对应dom元素是否存在），然后在自己组件的同步逻辑结束后clearInterval避免重复加载自己的组件","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#2-1","id":"1486555","time":"2019-9-2 07:43","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"这个方案我不是很喜欢的原因其实和第一个类似，本质上没什么太大区别。其实我是想问问promise之类的特性可以解决这个问题吗？"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-2","id":"1486556","time":"2019-9-2 07:57","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda＠Lv2</span> 说: 这个方案我不是很喜欢的原因其实和第一个类似，本质上没什么太大区别。其实我是想问问promise之类的特性可以解决这个问题吗？</q></div>以我的js知识水平想不到…"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#2-3","id":"1486560","time":"2019-9-2 08:03","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 以我的js知识水平想不到…</q></div>晕= =不过还是先谢谢啦，我等下看看有没有其他人有别的思路"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-4","id":"1486563","time":"2019-9-2 08:09","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda＠Lv2</span> 说: 晕= =不过还是先谢谢啦，我等下看看有没有其他人有别的思路</q></div>如果不想轮询就只能通过某个事件得知组件是否被成功加载, 比如检测dom修改, 或者py开发者让他在组件的结束调用某个函数...其实都不如轮询来得简单..."}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/40/82/408230.jpg","floor":"#3","id":"1486572","time":"2019-9-2 08:59","userId":"408230","userName":"astrea","userSign":"(-Wish upon a Shooting Star-)","message":"看看 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">Intersection Observer</a>或者<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">MutationObserver</a> ?","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/00/02/204.jpg","floor":"#3-1","id":"1486575","time":"2019-9-2 09:28","userId":"mono","userName":"rnono","userSign":"","message":"Intersection 如果能监测小圣杯DOM 感觉可行？"},{"avatar":"//lain.bgm.tv/pic/user/m/000/13/14/131492.jpg","floor":"#3-2","id":"1486584","time":"2019-9-2 09:43","userId":"misakaxindex","userName":"東瀬まつり太","userSign":"","message":"+1"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3-3","id":"1486593","time":"2019-9-2 09:57","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">rnono</span> 说: Intersection 如果能监测小圣杯DOM 感觉可行？</q></div>第一个看了下案例感觉有点复杂，而且貌似还是草案；后面的“MutationObserver”试了下倒是不错。虽然偶尔还是会有监视不到的情况发生，不过很少遇到。准备就用这个了。"},{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#3-4","id":"1486594","time":"2019-9-2 09:57","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"MutationObserver效果还可以，谢谢大佬"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/16/281628.jpg","floor":"#4","id":"1486580","time":"2019-9-2 09:39","userId":"rhilip","userName":"Rhilip","userSign":"","message":"之前我写userscript的时候使用过 <a href=\"https://gist.github.com/BrockA/2625891\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">waitForKeyElements.js</a> ，但其实质还是setInterval","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#4-1","id":"1486595","time":"2019-9-2 09:58","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"setinterval就是感觉有点暴力所以有点抗拒，虽然我去搜的时候也有看到有些人因为observe的性能转投setinterval的。。"}]},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#5","id":"1486588","time":"2019-9-2 09:48","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"(プリキュアなりたい)","message":"可以请原作者写一个自定义事件放到window上，甚至多写几个实现生命周期。比如圣杯加载完成触发，开启交易触发等等","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/000/26/12/261227.jpg","floor":"#5-1","id":"1486596","time":"2019-9-2 09:59","userId":"261227","userName":"chitanda＠Lv2","userSign":"","message":"这个就有点麻烦了bgm38。641现在bug都修不完，肯定没时间给我做这种接口"},{"avatar":"//lain.bgm.tv/pic/user/m/000/06/98/69822.jpg","floor":"#5-2","id":"1486610","time":"2019-9-2 10:49","userId":"shadowdreamer","userName":"CureDovahkinn🤔","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">chitanda＠Lv2</span> 说: 这个就有点麻烦了bgm38。641现在bug都修不完，肯定没时间给我做这种接口</q></div>只加一个自定事件就是代码结尾加几行，不影响其他东西"}]}]
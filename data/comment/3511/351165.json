[{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2","id":"1455477","time":"2019-6-19 17:30","userId":"trim21","userName":"Trim21","userSign":"(异端比异教徒更可恨)","message":"也贴一下完整的油猴脚本","sub":[{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#2-1","id":"1455480","time":"2019-6-19 17:38","userId":"302432","userName":"yuzhan1990","userSign":"","message":"// ==UserScript==<br>// <a href=\"/user/name\" class=\"l\">@名字</a>         pixiv<br>// <a href=\"/user/name\" class=\"l\">@名字</a>space    <a href=\"http://tampermonkey.net/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://tampermonkey.net/</a><br>// @version      0.1<br>// @description  右移<br>// @author       You<br>// @include     *://www.pixiv.net/member_illust.php?mode=medium&illust_id=*<br>// @include     *://www.pixivision.net/member_illust.php?mode=medium&illust_id=*<br>// <a href=\"/user/grant\" class=\"l\">@七濑</a>        none<br>// ==/UserScript==<br><br>(function() {<br>    'use strict';<br><br>    // 点击更多评论<br>    setTimeout(function(){ document.getElementsByClassName('_1Hom0qN')[0].click(); }, 16000);<br>    setTimeout(function(){ document.getElementsByClassName('_1Hom0qN')[0].click(); }, 20000);<br><br>    // 展开回复,隐藏无内容评论<br>    var commentList = document.querySelectorAll('main > section > div > div:nth-child(2) > section > div > div > div > ul > li');<br>    function hidden(){<br>        for ( var i = 0;i < commentList.length;i++){<br>            if(commentList<span style=\"font-style:italic\">.getElementsByTagName(\"button\")[0]){commentList<span style=\"font-style:italic\">.getElementsByTagName(\"button\")[0].click()};<br>            if(commentList<span style=\"font-style:italic\">.getElementsByTagName(\"p\").length === 0){commentList<span style=\"font-style:italic\">.style.display=\"none\"};<br>        }<br>    }<br>    setTimeout(hidden, 24000);<br>    //setInterval(hidden, 4000);<br><br>})();<br><br><br><br>自己只是业余爱好者,献丑了</span></span></span></span>"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-2","id":"1455484","time":"2019-6-19 17:40","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">yuzhan1990</span> 说: // ==UserScript==<br>// @名字&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;pixiv<br>// @名字space&nbsp; &nbsp; http:/...</q></div>哦我知道了 你把查询commentlist那一行放到hidden函数内应该就可以了，因为你查询commentlist的时候没有延时，而当时页面上还没加载出评论来，而hidden函数真正运行的的时候commentlist应该是空的"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#2-3","id":"1455485","time":"2019-6-19 17:44","userId":"302432","userName":"yuzhan1990","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 哦我知道了 你把查询commentlist那一行放到hidden函数内应该就可以了，因为你查询commentlist的时候没有延时，而当时页面上还没加载出评论来，而hidden函数真正运行的的时候co...</q></div>哦原来如此,问题解决了!谢谢大佬!"},{"avatar":"//lain.bgm.tv/pic/user/m/000/28/76/287622.jpg","floor":"#2-4","id":"1455486","time":"2019-6-19 17:45","userId":"trim21","userName":"Trim21","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">yuzhan1990</span> 说: 哦原来如此,问题解决了!谢谢大佬!</q></div>还有就是可以设置run-at，把脚本运行的时间往后放放"},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#2-5","id":"1455488","time":"2019-6-19 17:48","userId":"302432","userName":"yuzhan1990","userSign":"","message":"<div class=\"quote\"><q><span style=\"font-weight:bold;\">Trim21</span> 说: 还有就是可以设置run-at，把脚本运行的时间往后放放</q></div>你是指油猴设置页里面的\"运行时期\"这个吗,有\"document-start\"\"document-idle\"之类的?我看过油猴的说明文档,设置成document-idle了,但实际使用时P站还是加载很慢,所以我连点击更多评论都设置成十几秒后了"}]},{"avatar":"//lain.bgm.tv/pic/user/m/icon.jpg","floor":"#3","id":"1455479","time":"2019-6-19 17:37","userId":"302432","userName":"yuzhan1990","userSign":"","message":"// ==UserScript==<br>// <a href=\"/user/name\" class=\"l\">@名字</a>         pixiv<br>// <a href=\"/user/name\" class=\"l\">@名字</a>space    <a href=\"http://tampermonkey.net/\" target=\"_blank\" rel=\"nofollow external noopener\" class=\"l\">http://tampermonkey.net/</a><br>// @version      0.1<br>// @description  右移<br>// @author       You<br>// @include     *://www.pixiv.net/member_illust.php?mode=medium&illust_id=*<br>// @include     *://www.pixivision.net/member_illust.php?mode=medium&illust_id=*<br>// <a href=\"/user/grant\" class=\"l\">@七濑</a>        none<br>// ==/UserScript==<br><br>(function() {<br>    'use strict';<br><br>    // 点击更多评论<br>    setTimeout(function(){ document.getElementsByClassName('_1Hom0qN')[0].click(); }, 16000);<br>    setTimeout(function(){ document.getElementsByClassName('_1Hom0qN')[0].click(); }, 20000);<br><br>    // 展开回复,隐藏无内容评论<br>    var commentList = document.querySelectorAll('main > section > div > div:nth-child(2) > section > div > div > div > ul > li');<br>    function hidden(){<br>        for ( var i = 0;i < commentList.length;i++){<br>            if(commentList<span style=\"font-style:italic\">.getElementsByTagName(\"button\")[0]){commentList<span style=\"font-style:italic\">.getElementsByTagName(\"button\")[0].click()};<br>            if(commentList<span style=\"font-style:italic\">.getElementsByTagName(\"p\").length === 0){commentList<span style=\"font-style:italic\">.style.display=\"none\"};<br>        }<br>    }<br>    setTimeout(hidden, 24000);<br>    //setInterval(hidden, 4000);<br><br>})();<br><br>自己只是业余爱好者,献丑了</span></span></span></span>","sub":[]}]